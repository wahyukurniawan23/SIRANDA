/*! ds-bootstrap - v1.0.0.33225 - 2024-09-17 1:22am UTC
* Copyright (c) 2024 ; Not Licensed */!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,n||"default");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(o,"string"),"symbol"===t(a)?a:String(a)),r)}var o,a}var n=DS,i=n._,r=n.pubSub,o=n.events,a=n.constants,l=n.utils,s=n.translationStore,c=[],u=function(){function t(e,n,l){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.frame=e,this.frame.blocked=!1,this.preso=l,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:a.docked.NONE,width:0},this.setLayout(this.frame.default_layout,a.refs.FRAME),DS.flagManager.multiLangSupport&&!i.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var c=l.getFirstSlide();for(var u in this.slideWidth=c.get("width"),this.slideHeight=c.get("height"),this.temp=[],this.frame.layouts)this.temp.push(u);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),i.bindAll(this,"onLayoutChanged"),r.on(o.controlLayout.CHANGED,this.onLayoutChanged),r.on(o.controlLayout.UPDATE,(function(t,e,n){s.frame.controlLayouts[t]=n,s.setLayout(t,e)})),r.on(o.controlOptions.CHANGED,(function(t){var e=s.optionChangesRequireMenuRefresh(s.frame.controlOptions.menuOptions,t.menuOptions);s.frame.controlOptions=t,s.setupControlOptions(),r.trigger(o.controlOptions.RESET),e&&r.trigger(o.navData.REFRESH_VIEW)})),r.on(o.frame.FONT_SCALE,(function(t){s.frame.fontscale=t,r.trigger(o.controlOptions.RESET)})),r.on(o.glossary.UPDATE,(function(t){s.frame.glossaryData=t,r.trigger(o.glossary.REFRESH_VIEW)})),r.on(o.navData.UPDATE,(function(t){s.frame.navData=t,r.trigger(o.navData.REFRESH_VIEW)})),r.on(o.resources.UPDATE,(function(t){s.frame.resourceData.resources=t,r.trigger(o.resources.REFRESH_VIEW)})),r.on(o.resources.UPDATE_DESCRIPTION,(function(t){s.frame.resourceData.description=t,r.trigger(o.resources.REFRESH_VIEW)})),r.on(o.layer.DIALOG_SHOWN,(function(t){var e=DS.windowManager.getCurrentWindow();r.trigger(o.frameModel.BLOCKED_CHANGED,e.frame.id,!0,t)})),r.on(o.layer.DIALOG_HIDDEN,(function(){var t=DS.windowManager.getCurrentWindow();r.trigger(o.frameModel.BLOCKED_CHANGED,t.frame.id,!1)})),r.on(o.localization.LANGUAGE_UPDATED,(function(){s.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),r.on(o.localization.REVIEW_FRAME_UPDATED,(function(){s.updateReviewStrings()}))}var n,u,f;return n=t,u=[{key:"traverseMenu",value:function(t,e){var n=this;e.forEach((function(i){t(i),null!=i.links&&e.length>0&&n.traverseMenu(t,i.links)}))}},{key:"updateMenuStrings",value:function(){var t=l.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(t){t.displaytext=s.getUpdatedTextData("menuItem","".concat(t.translationId,"-Name"),t.displaytext)}),t)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(t){var e=t.translationId;t.title=s.getUpdatedTextData("glossaryItem","".concat(e,"-Term"),t.title),t.content=s.getUpdatedTextData("glossaryItem","".concat(e,"-Definition"),t.content)}))}},{key:"updateResourcesStrings",value:function(){l.getPath(this.frame,"resourceData.resources",[]).forEach((function(t){var e=t.translationId;t.title=s.getUpdatedTextData("resourceItem","".concat(e,"-Title"),t.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(t){var e=t.slideId,n=i.last(e.split(".")),r=s.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=r&&null!=DS.renderHtmlString&&(t.content=DS.renderHtmlString(r))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=s.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=t.stringTables,this.frame.navData=t.navData,this.frame.resourceData=t.resourceData,this.frame.glossaryData=t.glossaryData,this.frame.notesData=t.notesData,this.frame.controlStrings=t.controlStrings.reduce((function(t,e){var n=e.id,i=e.value;return t[n]=i,t}),{}),this.title.text=this.frame.controlStrings.title,e||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){r.trigger(o.strings.UPDATE_STRINGS),r.trigger(o.navData.REFRESH_VIEW),r.trigger(o.glossary.REFRESH_VIEW),r.trigger(o.resources.REFRESH_VIEW),r.trigger(o.transcript.REFRESH_VIEW),r.trigger(o.frame.REFLOW)}},{key:"setupControlOptions",value:function(){var t=this.frame.controlOptions.sidebarOptions;this.sidebarOpts=t,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=t.tabs.linkRight||[],this.topTabsLeft=t.tabs.linkLeft||[],this.topTabsRight=t.tabs.linkRight||[],this.sidebarTabs=t.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(t){return"outline"===t.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:t.titleEnabled,text:t.titleText}}},{key:"optionChangesRequireMenuRefresh",value:function(t,e){return t.wrapListItems!==e.wrapListItems||t.autonumber!==e.autonumber}},{key:"onLayoutChanged",value:function(t,e){this.setLayout(t,e)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(t){return s.getUpdatedTextData("frameLink","".concat(t,"-Link"),l.getPath(this.frame,"controlStrings.".concat(t),null))}},{key:"getString",value:function(t){var e=this.currLayout.string_table,n=this.frame.stringTables[e].string[t];return null==n?(c.includes(t)||(c.push(t),console.warn("could not find ".concat(t," in string table ").concat(e))),t.replace("acc_","").replace(/_/g," ")):n}},{key:"setDocked",value:function(t,e,n){e===a.docked.NONE?(this.dockedStates[t]=null,delete this.dockedStates[t]):this.dockedStates[t]={dockedState:e,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:a.docked.NONE,width:0}:e!==a.docked.NONE?this.dockSettings={dockedState:e,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var t=this.dockSettings,e=t.dockedState,n=t.width;return e!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(t,e){this.currLayout=this.frame.layouts[t],this.currControlLayout=this.frame.controlLayouts[t],this.layouts[e]=this.currControlLayout,r.trigger(o.frameModel.LAYOUT_CHANGED,this.currControlLayout,e)}},{key:"getWndControlLayout",value:function(t){return this.layouts[t]||this.currControlLayout}},{key:"dir",value:function(t){if(null!=t)return this.rtl?t.reverse():t}}],u&&e(n.prototype,u),f&&e(n,f),Object.defineProperty(n,"prototype",{writable:!1}),t}(),f=u;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,v(i.key),i)}}function v(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}var m,g=DS,w=g._,S=g.scaler,k=g.detection,O=g.detection.orientation,C=g.utils,E=C.getPath,L=C.scaleVal,T=C.pxify,x=g.dom,P=x.addClass,I=x.removeClass,j=g.constants.refs.FRAME,D=document.getElementById(DS.constants.els.PRESO),A={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},B=["wrapper","lightBoxWrapper"],R=function(t){null!=t.beforeUpdateHook&&t.beforeUpdateHook()},M=function(t,e,n){R(t),n=t.w>0?n:0,t.y=t.top=0,t.x=t.left=e.l+n,t.update(!0),e.l=t.x+t.w},N=function(t,e,n){R(t),n=t.w>0?n:0,t.y=t.top=0,t.x=t.left=e.r-t.w-n,t.update(!0),e.r=t.x},H=function(t,e,n){R(t),n=t.h>0?n:0,t.x=t.left=0,t.y=t.top=e.t+n,t.update(!0),e.t=t.y+t.h},F=function(t,e,n){R(t),n=t.h>0?n:0,t.x=t.left=0,t.y=t.top=e.b-t.h-n,t.update(!0),e.b=t.y},V={l:M,r:N,t:H,b:F},U=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ViewLogic=e,this.params=n,this.nameKey=null!=n&&n.nameKey||e.nameKey,this.enabled=!0}var e,n,i;return e=t,n=[{key:"init",value:function(t){if(this.hasInited)console.warn("has already initialized",this);else{var e;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(e=!0),w.isFunction(i)&&(i=i(this.nameSpace||t)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&D.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),e&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(t,e){var n="".concat(e,"l"),i="".concat(e,"p");null!=t[n]&&null!=t[i]&&(t[e]=function(){return O.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return e.orientationProp(t,n)}))}},{key:"initContent",value:function(t){if(this.noContent){var e=this.html;null!=e&&(this.el.innerHTML=e)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,t.contentStyle||{}),this.initAttributes(t.contentAttrs,this.content),null!=t.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(t,e){for(var n in t)if(null!=t[n]){var i=t[n];"id"===n?i=w.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(e||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(t){if(Object.assign(this.el.style,{position:t.position,left:0,top:0,backgroundColor:t.bgColor,border:t.border,overflow:t.overflow,transformOrigin:t.origin,opacity:t.opacity,zIndex:t.z}),null!=E(t,"style.display")){var e=t.style.display;"boolean"==typeof e&&(t.style.display=e?"block":"none")}Object.assign(this.el.style,t.style)}},{key:"initVisibility",value:function(t){!1===t.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var t=this.el.querySelectorAll("[data-ref]"),e=0;e<t.length;e++)this.children[t[e].dataset.ref]={el:t[e]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",G.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var t=this.html;null!=t&&(this.noContent?this.el.innerHTML=t:this.content.innerHTML=t)}},{key:"createDynamicGetters",value:function(e){for(var n in e)"id"!==n&&null!=e[n]&&t.prop(this,n,e[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=T(L(Math.max(this.w,24))),this.el.style.height=T(L(Math.max(this.h,24)))):(this.el.style.width=T(L(this.w)),this.el.style.height=T(L(this.h)))}},{key:"updateTrans",value:function(){var t=B.includes(this.nameKey)?w.identity:L,e=["translate(".concat(T(t(this.x)),", ").concat(T(t(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)e.push("translateX(".concat(T(t(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)e.push("translateY(".concat(T(t(this.ys[i])),")"));k.deviceView.isMobile&&null!=this.scale&&e.push("scale(".concat(this.scale,")")),this.el.style.transform=e.join(" ")}},{key:"calcChildrensWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},e=0;return null!=this.children&&this.children.forEach((function(n){t(n)&&(n.update(),e+=n.w)})),e}},{key:"calcChildrensHeight",value:function(){var t=0;return null!=this.children&&this.children.forEach((function(e){e.update(),t+=e.h})),t}},{key:"positionChildren",value:function(t){var e=t.vertical,n=t.toTop,i=t.toLeft,r=t.pad,o=t.startPos,a=t.reverse,l=void 0!==a&&a,s=t.hook,c=void 0===s?w.noop:s,u=t.rtl,f=void 0!==u&&u,d=t.sizeToChildren,h=t.alignChild,y=e?n?F:H:i?N:M,b=Object.assign({l:o,r:o,t:o,b:o},t.bounds),v=l!==f?this.children.slice().reverse():this.children,m=p(e?["height","t"]:["width","l"],2),g=m[0],S=m[1],k=O.isLandscape?w.first:w.last;v.forEach((function(t){(t.beforeReflowHook||w.noop)();var e=h&&k(t.parentAlign);!t.visible&&"reflow"===t.visibility||"-"===e||(e?V[e](t,b,r):y(t,b,r),c(t))})),d&&(this[g]=b[S])}},{key:"flowChildren",value:function(t){(t=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},t)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(t),this.updateSize()):this.positionChildren(t)}},{key:"isBlocked",value:function(){if(k.theme.isClassic)return!1;var t=G.getTopNameSpace(),e=G.getCurrentNameSpace(),n=G.getBlocker(e.name);return null!=t&&null!=n&&n.visible}},{key:"setEnabled",value:function(t,e){this.enabled!=t&&(this.enabled=t,t?I(this.el,"cs-disabled"):P(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!t));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",e&&!t||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(t,e){var n=this.visible!==t,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=t?"visible":"hidden",this.el.style.pointerEvents=t?"":"none"):"reflow"===this.visibility&&(this.el.style.display=t?"block":"none",i=!0),e&&(this.layoutDefaultVisible=t),this.visible=t,n&&E(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(t),i}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(t){null==this.beforeUpdateHook||t||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(t){this.children.forEach((function(e){e.update(),t&&e.updateChildren(t)}))}},{key:"doTextCalcs",value:function(){var t=1/S.getScale(),e=this.content.style.width,n=this.el.style.display;(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*t,r=this.content.clientHeight*t;(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&(this.content.style.width=e,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var t=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(e){"string"==typeof e&&(e=G.getOrCreateView(e)),e.init(t.nameSpace),t.append(e)}))}},{key:"setChildNum",value:function(t){this.defaultChildNum=t}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(t,e){if(t.parent=this,this.children[w.camelCase(t.nameKey)]=t,e?this.children.unshift(t):this.children.push(t),this.noContent||t.outsideContent?this.el.appendChild(t.el):this.content.appendChild(t.el),t.wasAppended(),t.update(),null==t.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;t.nameSpace=n.nameSpace,G.hasNamespace(n.nameSpace)?G.getNamespace(n.nameSpace)[t.nameKey]=t:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){null!=this.children&&this.children.forEach((function(t){return t.destroy()})),null!=this.viewLogic&&this.viewLogic.teardown(),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&G.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==G.getNamespace(this.nameSpace).wrapper)return null;var t=k.theme.isClassic&&G.getNamespace(this.nameSpace).wrapper.dimScale||1,e=(G.getNamespace(this.nameSpace).wrapper.scale||1)*t,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*e,i=(i+(void 0===c?0:c))*e;u=u.parent;){var f=null!=u.parent?e:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,b=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+b)*f}return{x:n,y:i,w:r*=e,h:o*=e}}}],n&&b(e.prototype,n),i&&b(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();U.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},U.prop=function(t,e,n){if("number"==typeof n)t[e]=n;else if("string"==typeof n&&null!=U.propFns[n])Object.defineProperties(t,h({},e,{get:U.propFns[n],set:w.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=A[e]?A[e]:e;Object.defineProperties(t,h({},e,{get:function(){return this.parent[r]?t.parent[r]*i:0},set:w.noop}))}else if(w.isFunction(n)){var o;if("w"===e||"h"===e){var a=n.bind(t),l=e.toUpperCase(),s=t["min".concat(l)],c=t["max".concat(l)];o=function(){var t=a();return t<s?t=s:t>c&&(t=c),t}.bind(t)}else o=n;Object.defineProperties(t,h({},e,{get:o,set:w.noop}))}else t[e]=n;t[e]=n};var W={},z={},Z={},K=function(t){var e,n,i=d(t);return"string"===i?e=t:"object"===i?n=t[e=Object.keys(t)[0]]:console.warn("invalid view definition. ".concat(t," is a ").concat(d(t))),{viewName:e,children:n}},G={nameSpaces:{},nsStack:[],getNamespace:function(t){return this.nameSpaces[t]},hasNamespace:function(t){return null!=this.nameSpaces[t]},setModel:function(t){return this.model=t,this},resetStates:function(t){var e=this.getNamespace(t);w.forEach(e,(function(t){return t&&t.setEnabled&&t.setEnabled(!0)}))},updateVisibility:function(t,e){var n=!1;for(var i in t){var r=this.nameSpaces[e][i];if(null!=r)r.setVisibility(t[i],!0)&&(n=!0)}return n},def:function(t,e,n){null==n?e.nameKey=t:n.nameKey=t;var i=new U(e,n);return null==W[t]?(W[t]=i,z[t]={ViewLogic:e,p:n},Z[t]=0):console.warn("views connot share the same name ".concat(t)),i},addNameSpace:function(t){m=t,this.nameSpaces[m]=this.nameSpaces[m]||{name:t,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(t){return D.removeChild(t.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(t){return D.appendChild(t.el)}))},updateTabIndex:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(e){if(!e.dataset.leavealone){var n=e.getAttribute("data-tabindex");null==n&&(n=e.tabIndex,e.setAttribute("data-tabindex",n)),e.tabIndex=t.tabReachable?n:-1}};this.topLevelElements.forEach((function(r){var o=function(t,e){e?t.el.removeAttribute("aria-hidden"):t.el.setAttribute("aria-hidden",!0)};e&&(r.children.some((function(t){return"startoverlay"===t.nameKey}))?r.children.filter((function(t){return"startoverlay"!==t.nameKey})).forEach((function(e){return o(e,t.tabReachable)})):o(r,t.tabReachable)),r.el.querySelectorAll(n?"[tabIndex]:not(.acc-shadow-el):not(.slide-object)":"[tabIndex]").forEach((function(t){return i(t)})),"lightBoxClose"===r.nameKey&&i(r.el)}))}}},update:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){t.forEach((function(t){w.isFunction(t)?t():Array.isArray(t)?update(t,e):null==t||!t.update||t.noUpdate&&!e||(t.update(),e&&t.updateHtml())}))})),getViewConfig:function(t){var e=z[t];return{name:t,ViewLogic:e.ViewLogic,p:e.p}},getOrCreateView:function(t){if(++Z[t]>1){var e=z[t],n=e.ViewLogic,i=e.p;return new U(n,i)}return W[t]},tree:function(t,e){for(var n=this,i=[],r=function e(i){if(null!==i){var r=K(i),o=r.viewName,a=r.children,l=n.nameSpaces[t][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=t,E(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)e(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function e(r,o){if(null!==r){var a=K(r),l=a.viewName,s=a.children,c=n.nameSpaces[t][l];if(null!=c){if(c.init(t),null!=o?o.append(c):n.nameSpaces[t].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)e(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<e.length;a++)r(e[a]);for(var l=0;l<e.length;l++)o(e[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[m]},getTopNameSpace:function(){return w.last(this.nsStack)},getCurrentNameSpaceString:function(){return m},getFrameNameSpace:function(){return this.nameSpaces[j]},getBlocker:function(t){switch(t){case DS.constants.refs.FRAME:return G.getNamespace(t).frameBlocker;case"LightboxWnd":return G.getNamespace(t).lightBoxBlocker;case"LightboxControlsWnd":return G.getNamespace(t).lightBoxControlsBlocker;default:return null}}};function Q(t){return function(t){if(Array.isArray(t))return t}(t)||X(t)||Y(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t){return function(t){if(Array.isArray(t))return $(t)}(t)||X(t)||Y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function X(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var J,tt=DS,et=tt._,nt=tt.pubSub,it=tt.events,rt={},ot=!1,at={},lt=function(t){try{var e=q(document.styleSheets).find(t);J=q(e.rules)}catch(t){}};if(lt((function(t){return null!=t.href&&t.href.includes("output.min.css")})),nt.on(it.scheme.CHANGED,(function(t){lt((function(e){return null!=e.ownerNode&&e.ownerNode.id===t})),at={}})),null!=J){var st=function(t,e){var n,i;if(ot){n="".concat(e,".cs-").concat(G.model.frame.default_layout);var r=t.split(" ");i=(r=r.map((function(t){return(t.startsWith(".")?".":"")+et.compact(t.split(".")).reverse().join(".")}))).join(" ")}else{G.model;n=".cs-".concat(G.model.frame.default_layout).concat(e),i=t}return"".concat(n," ").concat(i)};rt.getColor=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=st(e,i);if(null==at[r]){var o=J.find((function(t){return t.selectorText===r}));null==o&&(ot=!ot,r=st(e,i),o=J.find((function(t){return t.selectorText===r}))||{}),at[r]=o.style||{}}return at[r][n]||""}}else{var ct=function(t,e){var n=document.createElement(t);return n.setAttribute("class",e),n},ut=/^\./,ft=/\./g;rt.getColor=function(t,e,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||e).split(/\s+/),a=G.getNamespace(t).wrapper.el;o.forEach((function(t,e){if(ut.test(t))s=t.replace(ft," "),i=ct("div",s);else{var n=Q(t.split(".")),o=n[0],l=n.slice(1);i=ct(o,l.join(" "))}var s;0===e&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}var dt=rt;function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ht(o)?o:String(o)),i)}var r,o}var yt,bt,vt,mt,gt=DS,wt=gt.dom,St=gt._,kt=gt.detection,Ot=gt.pubSub,Ct=gt.events,Et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),St.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var e={};e[Ct.loader.SHOW]=this.onLoaderShow,e[Ct.loader.MUTE]=this.onLoaderMute,e[Ct.loader.UNMUTE]=this.onLoaderUnmute,e[Ct.loader.HIDE]=this.onLoaderHide,e[Ct.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,e[Ct.startOverlay.READY]=this.onLoaderHide,wt.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&wt.addClass(document.body,"is-touchable-tablet"),kt.env.is360&&wt.addClass(document.body,"is-360"),Ot.on(e),this.setupBrandingColor()}var e,n,i;return e=t,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var t=dt.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=t&&(DS.constants.theme.brandingHighlight=t,Ot.trigger(Ct.app.BRANDING_COLOR,t))}))}},{key:"onRemoveLoaderTitle",value:function(){var t=document.querySelector("body > .mobile-load-title-overlay");null!=t&&t.parentNode.removeChild(t)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var t=this.getSpinLoader();null!=t&&(t.style.opacity=0)}},{key:"showLoaderDelayed",value:function(t){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,t)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",wt.addClass(document.getElementById("preso"),"hide-slide-loader"),Ot.trigger(Ct.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var t=this.getSpinLoader();null!=t&&(t.style.opacity=1)}},{key:"onLoaderShow",value:function(t){t>0?this.showLoaderDelayed(t):(this.getSpinLoader().style.display="block",wt.removeClass(document.getElementById("preso"),"hide-slide-loader"),Ot.trigger(Ct.app.SHOW_LOADER))}}])&&pt(e.prototype,n),i&&pt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Lt=DS,Tt=Lt.globalEventHelper.addWindowListener,xt=Lt.events,Pt=xt.ds,It=Pt.FRAME_DATA_LOADED,_t=Pt.PRESO_READY,jt=xt.window.STACKING_CHANGED,Dt=xt.frame,At=Dt.MODEL_READY,Bt=Dt.SCALE,Rt=xt.resume.SET_DATA,Mt=xt.startOverlay.READY,Nt=xt.controlOptions.RESET,Ht=xt.sidebar.ACTIVE_TAB_SET,Ft=xt.renderTree.DESTROYED,Vt=Lt.constants,Ut=(Vt.els.PRESO,Vt.refs.FRAME),Wt=Lt.detection.theme,zt=Lt.pubSub,Zt=Lt.focusManager,Kt=(Lt.flagManager,Lt.playerGlobals),Gt=Lt.stringTabler,Qt=Lt.shortcutManager,qt=Lt.dom,Yt={},Xt=function(t){var e=G.nsStack.indexOf(t);e>=0&&G.nsStack.splice(e,1)},$t=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];G.nsStack.forEach((function(e,n,i){e.tabReachable=n===i.length-1&&t,e.updateTabIndex()}))},Jt=function(t){yt={createWindow:function(e){var n,i,r=this,o=G.getNamespace(e),a=function(){return function(t){var e=G.getNamespace(t),n=e.isAttached;e.reattach(),Xt(e),G.nsStack.push(e),n||Yt[t].all();var i=G.nsStack.length;G.nsStack.forEach((function(t,e){var n=t.slide.el;e===i-1?(qt.addClass(n,"primary-slide"),qt.removeClass(n,"secondary-slide")):(qt.removeClass(n,"primary-slide"),qt.addClass(n,"secondary-slide"))})),$t(),zt.trigger(jt,t)}(e)},l=function(t,n,i){if(t===e){var r=i?i.getWndBlockerBackground():"",a=G.getBlocker(t);null!=a&&(a.setBackgroundColor(r),a.setVisibility(n)),o.tabReachable=!n,o.updateTabIndex(!1,!0)}};return null==o&&(G.addNameSpace(e),i=t[e](bt),n=_.flow(Tt("resize",(function(){i.resize(),zt.trigger(Bt)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){i.resize(),zt.trigger(Bt)}))),e===Ut?bt.setLayout(bt.frame.default_layout,Ut):i.all(),o=G.getNamespace(e),Yt[e]=i,o.moveToTop=a,Wt.isUnified&&(zt.on(DS.events.frameModel.BLOCKED_CHANGED,l),zt.on(DS.events.window.MAIN_CHANGED,(function(t,e){return l(e,!1)})))),a(),zt.on(Nt,(function t(){var e=function(){var t=[],e=G.getNamespace(Ut).tabs.viewLogic.getSelectedTab();return e&&t.push(e.nameKey),_.each(G.getNamespace(Ut).topTabs.children,(function(e){_.each(_.filter(e.children,"viewLogic.showing",!0),(function(e){return t.push(e.nameKey)}))})),t}();Xt(G.getNamespace(Ut)),i.destroy(),DS.pubSub.trigger(Ft),G.nameSpaces[Ut]=null,n(),zt.off(Nt,t),r.createWindow("_frame"),i.rerender(),e.forEach((function(t){zt.trigger(Ht,t)}))})),{id:e,el:o.slide.el,wndEl:o.wrapper.el,captionEl:(o.captionContainer||{}).el,x:function(){return o.wrapper.x},y:function(){return o.wrapper.y},close:function(){o.zoomBounds=null,o.detach(),Xt(o),G.nsStack[G.nsStack.length-1].moveToTop(),Zt.reCenter()},moveToTop:a,getWinScale:function(){return o.slide.winScale||1},getPinchZoomBounds:function(){return o.slide.pinchZoomBounds},onPinchZoom:Yt[e].pinchZoom?function(t){o.zoomBounds=t,Yt[e].pinchZoom()}:function(){},onWndBlockedChanged:l}},getSidebarPosition:function(){return bt.sidebarOpts.sidebarPos},getDefaultLayout:function(){return vt.default_layout},getFonts:function(){return vt.fonts},getFontScale:function(){return bt.frame.fontscale},getCaptionData:function(){var t=bt.frame.controlOptions.controls,e={font:t.font,enabled:t.closed_captions},n=bt.frame.controlOptions.ccOptions||{};return e.font=n.font,e.size=n.size,e.placement=n.placement,e.backgroundColor=n.backgroundColor,e.color=n.color,e.text=n.text,e},getNavData:function(){return bt.frame.navData.outline.links},isReadOnlyOnce:function(){return vt.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return G.nsStack},setAllAccVisibility:function(t){_.forEach(G.nameSpaces,(function(e){var n=e.wrapper;t?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},zt.on(Rt,$t),zt.on(Mt,(function(){$t(!1)})),Kt.player=yt},te=function(){yt.hasData=!0,zt.trigger(It,yt)};function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ee(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ee(o)?o:String(o)),i)}var r,o}var ie,re=DS.detection,oe=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minSize=Math.min(window.innerWidth,window.innerHeight),this.isMobileChrome=re.os.isIOS&&re.browser.isChrome}var e,n,i;return e=t,(n=[{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==window.outerHeight&&(this.cachedHeight=window.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=window.outerHeight),this.cachedHeight):(this.cachedOuterHeight=window.outerHeight,this.cachedHeight=window.innerHeight,window.innerHeight)}},{key:"width",get:function(){return window.innerWidth}}])&&ne(e.prototype,n),i&&ne(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()),ae="wrapper";G.def(ae,(function(){return{attrs:{id:ae,class:ae},x:0,y:0,w:function(){return oe.width},h:function(){return oe.height},add:!0}}));var le,se="-20px",ce="-30px";var ue={setTooltipOn:function(t,e,n){var i,r,o=e.left,a=e.top,l=e.width,s=e.height;null==ie&&(i=G.model,r=dt.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(ie=document.createElement("div")).id="tooltip",ie.style.left=se,ie.style.top=ce,ie.style.borderColor=r,ie.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(ie),ie.addEventListener("mouseleave",ue.runObjHoverOut)),le=t,ie.style.display="block",ie.innerText=n;var c=ie.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),ie.style.left="".concat(f,"px"),ie.style.top="".concat(d,"px")},hideTooltip:function(t){null==ie||null!=t&&t!==le||(ie.style.display="none",ie.innerText="",ie.style.left=0,le=void 0)},updateTooltip:function(t,e){var n=ie.getBoundingClientRect().width;ie.innerText=e,ie.style.left="".concat(t-n/2,"px")},runObjHoverOut:function(){null!=le?le.onHoverOut():ue.hideTooltip()}},fe=ue;function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function he(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==de(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===de(o)?o:String(o)),i)}var r,o}var pe=DS,ye=pe.dom,be=pe.pubSub,ve=pe.events,me=pe._,ge=pe.constants,we=pe.keyManager,Se=pe.focusManager,ke=(pe.flagManager,pe.stringTabler),Oe=pe.detection,Ce="click",Ee=function(){return Oe.deviceView.isUnifiedDesktop},Le=function(){function t(e){var n=this;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.view=e,this.model=e.model,e.children)this[i+"El"]=e.children[i].el;DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?(e.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),be.on(ve.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),be.on(ve.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),be.on(ve.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Ee()&&(me.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var e,n,i;return e=t,(n=[{key:"onClick",value:function(t){this.el.addEventListener(Ce,t.bind(this))}},{key:"onClickEl",value:function(t,e){t.addEventListener(Ce,e.bind(this))}},{key:"on",value:function(t,e){this.el.addEventListener(t,e.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(t){var e=this.getViewBox(),n=e.x,i=e.y,r=e.w,o=e.h;Se.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(t),this.hasFocus=!0}},{key:"onBlur",value:function(t){Se.takeFocusOff(),this.onHoverOut(t),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return ke.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(t){var e=this;if(Ee()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(t);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return e.onHoverIn(t)}),200);fe.hideTooltip();var i=this.getViewBox(t),r=i.x,o=i.y,a=i.w,l=i.h;fe.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){fe.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var t=this;Ee()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var e=document.elementFromPoint(ye.mouseX,ye.mouseY);null!=e&&(t.el.contains(e)||"tooltip"===e.id||t.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(t){we.isKey(t.which,ge.keys.ESCAPE)&&(t.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){be.off(ve.frameModel.LAYOUT_CHANGED,this.onLayoutChange),Oe.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&he(e.prototype,n),i&&he(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}function xe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Te(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Te(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Te(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pe=DS,Ie=Pe._,_e=Pe.pubSub,je=Pe.events,De=Pe.detection,Ae=Pe.constants.MOBILE_UI_SIZE,Be="top ".concat(150,"ms ease-in-out");function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function Me(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Re(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Re(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Re(o)?o:String(o)),i)}var r,o}function Ne(t,e){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ne(t,e)}function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ve(t);if(e){var r=Ve(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fe(t)}(this,n)}}function Fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ve(t){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ve(t)}var Ue=DS,We=Ue.pubSub,ze=Ue.events,Ze=Ue._,Ke=Ue.utils,Ge=(Ue.flagManager,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ne(t,e)}(o,t);var e,n,i,r=He(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Ze.bindAll(Fe(e),"onSlideChange","onAriaToggle"),We.on(ze.slide.HAS_MOUNTED,e.onSlideChange),We.on(ze.slide.ARIA_TOGGLE,e.onAriaToggle),e.teardownPushableSlide=function(t){var e;if(!De.deviceView.isPhone)return Ie.noop;function n(){t.view.el.style.transition=null,t.view.el.style.top="0px"}function i(e){t.view.el.style.transition=Be;var n=.45*window.innerHeight-10,i=-(t.view.bottom()-n),r=t.view.y+i,o=0;r<Ae&&De.theme.isUnified?o=Ae-r+10:r<0&&(o=-1*r+10),t.view.el.style.top="".concat(i+o,"px")}function r(){t.view.el.style.transition=Be,t.view.el.style.top="".concat(0,"px")}return _e.on((xe(e={},je.threeSixtyImage.UN_PUSH_LABEL,n),xe(e,je.threeSixtyImage.PUSH_UP_BY_LABEL,i),xe(e,je.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),e)),function(){n(),_e.off(je.threeSixtyImage.UN_PUSH_LABEL,n),_e.off(je.threeSixtyImage.PUSH_UP_BY_LABEL,i),_e.off(je.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Fe(e)),e}return e=o,(n=[{key:"onAriaToggle",value:function(t){t.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){We.off(ze.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(t){null!=this.labelEl&&this.view.nameSpace===t.props.windowId&&(this.labelEl.textContent="".concat(G.model.getString("slide"),": ").concat(Ke.stripTags(t.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Me(e.prototype,n),i&&Me(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le)),Qe=DS,qe=Qe.constants.MOBILE_UI_SIZE,Ye=Qe.detection.orientation,Xe="slide";G.def(Xe,Ge,(function(t){var e=G.model;G.getNamespace(t).optionPane;return{attrs:{id:Xe,class:Xe},methods:{getAvailableWidth:function(){return oe.width-(Ye.isLandscape?qe:0)},getAvailableHeight:function(){return oe.height-(Ye.isLandscape?0:qe)}},winScale:function(){var t=e.slideWidth,n=e.slideHeight;return Math.min(this.getAvailableWidth()/t,this.getAvailableHeight()/n)},origin:"0 0",w:function(){return e.slideWidth*this.winScale},h:function(){return e.slideHeight*this.winScale},x:function(){return(this.getAvailableWidth()-this.w)/2},y:function(){return(this.getAvailableHeight()-this.h)/2},z:1,overflow:"visible",add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div>\n      <main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>'}}));var $e="frame";function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function tn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Je(o)?o:String(o)),i)}var r,o}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=on(t);if(e){var r=on(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rn(t)}(this,n)}}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}G.def($e,(function(){return{attrs:{id:$e},x:0,y:0,w:"100%",h:"100%",z:2}}));var an=DS,ln=an.detection,sn=an._,cn=an.pubSub,un=an.events,fn=an.globalEventHelper.addWindowListener,dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(o,t);var e,n,i,r=nn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),sn.bindAll(rn(e),"onLayoutReady"),ln.deviceView.isTablet&&fn("resize",(function(){window.requestAnimationFrame((function(){e.view.update()}))})),cn.on(un.frame.LAYOUT_READY,e.onLayoutReady),e}return e=o,(n=[{key:"onLayoutReady",value:function(t){this.view.layout=t}},{key:"teardown",value:function(){cn.off(un.frame.LAYOUT_READY,this.onLayoutReady)}}])&&tn(e.prototype,n),i&&tn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),hn=DS,pn=hn.constants.MOBILE_UI_SIZE,yn=hn.detection,bn=yn.deviceView.isPhone,vn=yn.orientation,mn=hn.dom,gn="optionPane";G.def(gn,dn,(function(t){G.model;var e=G.getNamespace(t),n=e.fullScreenOpen,i=e.captions,r=e.settings,o=e.seek,a=e.playPause,l=e.submit,s=e.next,c=e.prev;return{tag:"section",attrs:{id:gn,class:_.kebabCase(gn)},wl:function(){return pn},wp:function(){return window.innerWidth},hl:function(){return window.innerHeight},hp:function(){return pn},xl:function(){return window.innerWidth-pn},xp:0,yl:0,yp:function(){return window.innerHeight-pn},z:4,childVisibilityChangedHook:function(){this.update()},methods:{moveButtonsToOverflow:function(){var t=[n,i,r,a,l,s,c].filter((function(t){return t&&t.visible}));this.applyOverflowVisibility(t,[i])},applyOverflowVisibility:function(t,e){for(this.ctrlOverflow=[];t.length>5&&e.length>0;){var n=e.pop(),i=t.indexOf(n);i>=0&&(t.splice(i,1),n.setVisibility(!1),this.ctrlOverflow.push(n),mn.addClass(this.el,"".concat(n.nameKey,"-overflow")))}return t},revertOverflowVisibility:function(){var t=this;null!=this.ctrlOverflow&&this.ctrlOverflow.forEach((function(e){e.setVisibility(e.layoutDefaultVisible),mn.removeClass(t.el,"".concat(e.nameKey,"-overflow"))}))}},updateHook:function(){if(this.hasAllChildren())if(bn&&(this.revertOverflowVisibility(),this.moveButtonsToOverflow()),vn.isPortrait){this.layout.seek&&o.setVisibility(!0),o.width=0;var t=this.calcChildrensWidth();o.width=this.w-t,this.flowChildren({sizeToChildren:!0,reverse:!1})}else o.setVisibility(!1),this.flowChildren({vertical:!0,sizeToChildren:!0,reverse:!1})},overflow:"visible"}}));var wn=function(){return"no icon"},Sn={hamburger:function(){return'<svg class="cs-icon hamburger-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <g id="icon-menu-mobile">\n    <rect width="40" height="4"></rect>\n    <rect y="16" width="40" height="4"></rect>\n    <rect y="32" width="40" height="4"></rect>\n    </g>\n  </svg>'},play:function(){return'<svg class="cs-icon play-icon" width="13" height="15" viewBox="0 0 13 15" focusable="false">\n    <path id="icon-play" d="M 13 7.15 L 2 0 2 14.3 13 7.15 Z"/>\n  </svg>'},next:function(){return'<svg className="cs-icon pause-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>\n  </svg>'},prev:function(){return'<svg class="cs-icon prev-mobile-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>\n  </svg>'},pause:function(){return'<svg class="cs-icon pause-icon" width="12" height="14" viewBox="0 0 12 14" focusable="false">\n    <g id="icon-pause">\n      <rect x="0" width="4" height="14"/>\n      <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>'},submit:function(){return'<svg class="cs-icon submit-icon" width="40" height="30" viewBox="0 0 40 30" focusable="false">\n    <path transform="translate(0, -5)" d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="36" height="36" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},captions:function(t){return'<svg class="cs-icon caption-icon" width="22px" height="20px" viewBox="0 0 22 20" focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" focusable="false">\n      <g>\n        <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n      </g>\n    </g>\n  </svg>'},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},search:function(){return'<svg class="cs-icon search-icon" width="22" height="22" viewBox="0 0 40 40" focusable="false">\n    <g id="icon-search" transform="translate(4, 0)">\n      <path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>\n      <path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'<svg class="cs-icon enter-fullscreen-icon" width="25" height="25" viewBox="0 0 32 32" focusable="false">\n    <g>\n      <path d="M0,0 L12,0 L12,3 L3,3 L3,12 L0,12 L0,0 Z"/>  \n      <path d="M20,0 L32,0 L32,12, L29,12, L29,3, L20,3, L20,0 Z"/>\n      <path d="M0,20 L3,20 L3,29, L12,29, L12,32, L0,32, L0,20 Z"/>\n      <path d="M29,20 L32,20 L32,32, L20,32, L20,29, L29,29, L29,20 Z"/>\n    </g>\n  </svg>'},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},track:function(t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#303030" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#B4B4B4" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#505050" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#6EBBEF" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(){return'\n      <svg width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="#191c1d"/>\n      </svg>\n    '}},kn=function(t){return Sn[t]||wn},On=function(t){var e=G.model.frame.controlOptions.controls.search;return'\n    <button\n      class="hamburger"\n      aria-expanded="false"\n      data-ref="burger"\n      aria-label="'.concat(G.model.getString("sidebar_toggle"),'">\n        ').concat(kn("hamburger")(),"\n    </button>\n    ").concat(e?function(t){return'\n    <button\n      class="search-toggle-btn search-toggle-'.concat(t,'"\n      aria-pressed="false"\n      data-ref="searchBtn"\n      aria-label="').concat(G.model.getString("search_toggle"),'">\n        ').concat(kn("search")(),"\n    </button>")}(t):"","\n  ")},Cn=DS.constants.MOBILE_UI_SIZE,En="hamburger";function Ln(t){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(t)}function Tn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ln(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Ln(o)?o:String(o)),i)}var r,o}G.def(En,(function(){G.model;return{attrs:{id:En},x:0,y:0,w:Cn,h:Cn,overflow:"visible",updateHook:function(){var t,e,n,i,r,o;this.setEnabled((t=G.model,e=t.topTabsLeft,n=t.topTabsRight,i=t.sidebarTabs,r=t.currControlLayout,o=function(t){return t.some((function(t){var e=t.name,n=r[e];return"outline"===e?n.enabled:"customlink"===e||n}))},o(e)||o(n)||o(i)))},html:On("portrait")}}));var xn=DS,Pn=xn._,In=xn.pubSub,_n=xn.events,jn=xn.dom.toggleClasses,Dn=(xn.shortcutManager,function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,Pn.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),In.on(_n.slide.STARTED,this.onSlideChanged)}var e,n,i;return e=t,(n=[{key:"teardown",value:function(){In.off(_n.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(t,e){t!==this.currTimeline&&(In.trigger(_n.playbackControls.TIMELINE_CHANGED,t,e),null!=this.currTimeline&&(this.currTimeline.off(_n.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(_n.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(_n.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=t,this.currTimeline.on(_n.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(_n.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(_n.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var t=this.view.children,e=t.reset,n=t.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();jn(document.body,"timeline-playing","timeline-paused",i),jn(document.body,"has-reset","no-reset",this.view.visible&&null!=e&&e.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(t,e,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(_n.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=e,this.currSlide.on(_n.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(e.currentTimeline(),e))}}])&&Tn(e.prototype,n),i&&Tn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()),An=DS,Bn=An.constants.MOBILE_UI_SIZE,Rn=An.detection.orientation,Mn="playbackControls";function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function Hn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Zn(i.key),i)}}function Fn(t,e){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fn(t,e)}function Vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Wn(t);if(e){var r=Wn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}(this,n)}}function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wn(t)}function zn(t,e,n){return(e=Zn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zn(t){var e=function(t,e){if("object"!==Nn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Nn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nn(e)?e:String(e)}G.def(Mn,Dn,(function(t){var e=G.getNamespace(t),n=e.hamburger,i=e.seek,r=G.model,o=(r.rtl,r.currControlLayout);o.pauseplay,o.seekbar;return{attrs:{id:Mn,"aria-label":"playback controls"},visibility:"no-reflow",overflow:"visible",x:0,yp:0,yl:function(){return null!=n?Bn:0},wp:function(){return this.width+(i.visible?0:i.w)||0},wl:"100%",hp:"100%",hl:function(){return this.height||0},noUpdate:!0,updateHook:function(){this.flowChildren({fullUpdate:!0,reverse:!1,sizeToChildren:!0,startPos:0,vertical:Rn.isLandscape});var t=this.children.some((function(t){return t.visible}));this.setVisibility(t)}}}));var Kn=DS,Gn=Kn._,Qn=Kn.events,qn=Kn.pubSub,Yn=Kn.detection,Xn=Kn.dom.tappedClass,$n=Kn.keyManager,Jn=Kn.stringTabler,ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fn(t,e)}(o,t);var e,n,i,r=Vn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),zn(Un(e=r.call(this,t)),"hasTooltip",!0),zn(Un(e),"onTap",(function(t){Xn(e.el)})),zn(Un(e),"onClickBtn",(function(t){1!==e.currTimeline.progress()?e.currTimeline.togglePlayback():Yn.theme.isUnified&&e.currTimeline.reset()})),zn(Un(e),"onKeydown",(function(t){var e=t.which;$n.isSeekKey(e)&&qn.trigger(Qn.player.SEEK,t)})),zn(Un(e),"onPlaybackChanged",(function(){e.updateToggle(),e.updateView()})),Gn.bindAll(Un(e),"onTimelineChanged"),qn.on(Qn.player.TOGGLE_PLAYBACK,e.onClickBtn),qn.on(Qn.playbackControls.TIMELINE_CHANGED,e.onTimelineChanged),Yn.deviceView.isMobile&&e.onClick(e.onTap),e.onClick(e.onClickBtn),e.el.addEventListener("keydown",e.onKeydown),e.view.toggle=!0,Yn.deviceView.isMobile&&qn.on(Qn.currTimeline.TICK,e.onTick.bind(Un(e))),e}return e=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){qn.off(Qn.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(t){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*t)),this.lastProgress=t}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",Jn.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(t){this.currTimeline=t,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Hn(e.prototype,n),i&&Hn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),ei=DS.constants.MOBILE_UI_SIZE,ni="playPause";function ii(t){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(t)}function ri(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ci(i.key),i)}}function oi(t,e){return oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oi(t,e)}function ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=si(t);if(e){var r=si(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}(this,n)}}function li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function si(t){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},si(t)}function ci(t){var e=function(t,e){if("object"!==ii(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ii(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ii(e)?e:String(e)}G.def(ni,ti,(function(){var t=G.model;return{attrs:{id:ni,class:"play-pause-btn content-center cs-button","aria-pressed":!1,"aria-label":"".concat(t.getString("acc_play"),"/").concat(t.getString("acc_pause")),tabindex:-1},tag:"button",style:{background:"transparent",border:"none"},updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle)},html:function(){return'\n        <div style="transform:translate(0, -2px)">\n          '.concat(this.toggle?kn("pause")():kn("play")(),'\n        </div>\n\n        <svg class="circle-progress" width="38" height="38" viewBox="0 0 38 38">\n          <circle\n            cx="17" cy="17" r="17"\n            fill="#464646"\n            stroke="none" />\n\n          <path\n            d="M 0 0"\n            transform="rotate(-90 17 17)"\n            fill="white"\n            stroke="none" />\n\n          <circle\n            cx="17" cy="17" r="14.5"\n            fill="#31373a"\n            stroke="none" />\n        </svg>\n      ')},minW:ei,minH:ei,z:1}}));var ui=DS,fi=ui.detection,di=ui.dom,hi=ui.pubSub,pi=ui.events,yi={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oi(t,e)}(o,t);var e,n,i,r=ai(o);function o(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),n=li(e),a=!0,(i=ci(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,fi.deviceView.isMobile&&e.onClick(e.onTap),e.onClick(e.onClickBtn),e}return e=o,(n=[{key:"tooltipKey",get:function(){return yi[this.view.nameKey]}},{key:"onTap",value:function(t){di.tappedClass(this.el)}},{key:"onClickBtn",value:function(t){var e=this.view,n=e.enabled,i=e.nameKey;n&&hi.trigger(pi.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(t){var e=this,n=this.view.nameKey;this.hasFocus&&(t[n]?window.requestAnimationFrame((function(){return e.onFocus()})):this.onBlur())}}])&&ri(e.prototype,n),i&&ri(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),vi="next",mi=DS,gi=mi.detection,wi=gi.orientation,Si=gi.deviceView.isTablet,ki=mi.constants.MOBILE_UI_SIZE;G.def(vi,bi,(function(t){var e=G.model,n={tag:"button",attrs:{id:vi,class:"cs-button btn","aria-label":e.getString("acc_"+vi),tabindex:0},html:'\n      <div class="icon">\n        '.concat(kn(vi)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:ki,minH:ki,noUpdate:!0,parentAlign:"br",noContent:!1};return Si&&Object.assign(n,{wp:"fit-to-text-w",wl:ki,wPad:function(){return wi.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(e.getString(vi),'</span>\n        <div class="icon">\n          ').concat(kn("next")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),n}));var Oi=DS,Ci=Oi.detection,Ei=Ci.orientation,Li=Ci.deviceView.isTablet,Ti=Oi.constants.MOBILE_UI_SIZE,xi="prev";G.def(xi,bi,(function(){var t=G.model,e={tag:"button",attrs:{id:xi,class:"cs-button btn","aria-label":t.getString("acc_"+xi),tabindex:0},html:'\n      <div class="icon">\n        '.concat(kn(xi)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Ti,minH:Ti,noUpdate:!0,parentAlign:"br",noContent:!1};return Li&&Object.assign(e,{wp:"fit-to-text-w",wl:Ti,wPad:function(){return Ei.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(t.getString(xi),'</span>\n        <div class="icon">\n          ').concat(kn("prev")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),e}));var Pi=DS,Ii=Pi.constants.MOBILE_UI_SIZE,_i=Pi.detection.orientation,ji="navControls";function Di(t){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}function Ai(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Fi(i.key),i)}}function Bi(t,e){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bi(t,e)}function Ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ni(t);if(e){var r=Ni(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mi(t)}(this,n)}}function Mi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(t)}function Hi(t,e,n){return(e=Fi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(t){var e=function(t,e){if("object"!==Di(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Di(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Di(e)?e:String(e)}G.def(ji,(function(t){G.model.rtl;var e=G.getNamespace(t).playbackControls;return{tag:"nav",attrs:{id:ji,"aria-label":"slide navigation"},wp:function(){return this.width||0},wl:"100%",hp:"100%",hl:function(){return this.parent.h-Ii},updateHook:function(){var t={reverse:!1,pad:0,fullUpdate:!0,sizeToChildren:!0};_i.isLandscape&&(t.sizeToChildren=!1,t.vertical=!0,t.toTop=!0,t.startPos=this.h-e.h,t.reverse=!0),this.flowChildren(t)}}}));var Vi=DS,Ui=Vi._,Wi=Vi.detection,zi=Vi.utils,Zi=Vi.keyManager,Ki=Vi.dom,Gi=Vi.dom,Qi=Gi.addClass,qi=Gi.removeClass,Yi=Vi.globalEventHelper.addWindowListener,Xi=Vi.events,$i=Vi.pubSub,Ji=(Vi.stringTabler,function(t){for(;t.startsWith("0")&&!t.startsWith("0:");)t=t.substring(1);return t}),tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bi(t,e)}(o,t);var e,n,i,r=Ri(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Hi(Mi(e=r.call(this,t)),"hasTooltip",!0),Hi(Mi(e),"tooltipMoves",!0),Ui.bindAll(Mi(e),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),$i.on(Xi.slide.STARTED,e.checkSeekable),$i.on(Xi.player.SEEK,e.onKeydown),$i.on(Xi.playbackControls.TIMELINE_CHANGED,e.onTimelineChanged),e.isUserControlled=!G.model.frame.controlOptions.controls.readonly||G.model.frame.controlOptions.controls.readonlyOnce,e.bindListeners(),e.isUp=!0,e}return e=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var t=Wi.deviceView.isClassicDesktop?this.seekEl:this.view.el;Wi.device.isMobile?(t.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var t=G.model.frame.controlOptions.controls,e=t.readonly,n=t.readonlyOnce;return!(e&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(t){var e=this.view.getBox();return zi.clamp(0,1,(t-e.x)/e.w)}},{key:"getEventX",value:function(t){return Wi.device.isMobile?t.touches[0]&&t.touches[0].pageX:t.pageX}},{key:"onTimelineChanged",value:function(t,e){null!=this.currTimeline&&(this.currTimeline.off(Xi.timeline.TICK,this.onTick),this.currTimeline.off(Xi.timeline.COMPLETE,this.checkSeekable)),this.currSlide=e,this.currTimeline=t,this.currTimeline.on(Xi.timeline.TICK,this.onTick),this.currTimeline.on(Xi.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=zi.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(qi(this.el,"read-only"),this.progressBarEl.disabled=!1):(Qi(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(t){var e=100*t;this.progressBarFillEl.style.width="".concat(e,"%"),this.progressBarEl.setAttribute("aria-valuetext","".concat(Math.round(e),"%")),this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,$i.trigger(Xi.currTimeline.TICK,t,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(Xi.timeline.AFTER_SEEK_UPDATE,(function t(){e.currTimeline.play(),e.currTimeline.off(Xi.timeline.AFTER_SEEK_UPDATE,t)})));var n=this.getEventX(t);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(t,e){var n=this;t.preventDefault();var i=(this.currTimeline.elapsedTime()+e)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(t){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(t){this.isUp=!1,this.removeEndListener=Yi(this.endEvent,this.onMouseUp),this.removeSeekListener=Yi(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(t)}},{key:"onMouseUp",value:function(t){this.onSeek(t),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(t){var e=t.which;Zi.isActionKey(e)?$i.trigger(Xi.player.TOGGLE_PLAYBACK):this.isSeekable()&&(Zi.isDownishKey(e)?this.seekBy(t,-100):Zi.isPageDownKey(e)?this.seekBy(t,-1e3):Zi.isUpishKey(e)?this.seekBy(t,100):Zi.isPageUpKey(e)&&this.seekBy(t,1e3))}},{key:"getViewBox",value:function(t){var e=this.view.getBox();return null!=t&&(e.x="focusin"===t.type?e.x+e.w/2:t.pageX,e.w=2),e}},{key:"onMouseMove",value:function(t){fe.updateTooltip(t.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(t){if(null!=this.duration){this.view.getBox().x;var e=this.getSeekValue(Ki.mouseX)*this.duration;null!=t&&"focusin"===t.type&&(e=Math.floor(zi.toSeconds(this.progressBarEl.value)));var n=zi.formatSecondsAsTime(e),i=zi.formatSecondsAsTime(this.duration);return"".concat(Ji(n)," / ").concat(Ji(i))}}}])&&Ai(e.prototype,n),i&&Ai(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),er="seek";G.def(er,tr,(function(){var t=G.model,e=G.model.frame.controlOptions.controls,n=e.readonly,i=e.seekbar;return{attrs:{id:er,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:function(){return this.parent.h/3},overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div class="cs-seek progress-bar-seek">\n          <div data-ref="progressBarFill" class="cs-fill progress-bar-fill" style="width: 0px">\n          </div>\n        </div>\n        <input\n          aria-hidden="'.concat(!i,'"\n          ').concat(n?"disabled":"",'\n          data-ref="progressBar"\n          type="range"\n          tabindex="0"\n          aria-label="').concat(t.getString("acc_slide_progress"),'"\n        />\n      </div>\n    ')}}));var nr=DS,ir=nr.constants.MOBILE_UI_SIZE,rr=nr.detection,or=rr.orientation,ar=rr.deviceView.isTablet,lr="submit";G.def(lr,bi,(function(){var t=G.model,e={tag:"button",attrs:{id:lr,class:"cs-button btn","aria-label":t.getString("acc_"+lr),tabindex:0},html:'\n      <div class="icon">\n        '.concat(kn(lr)(),"\n      </div>\n    "),overflow:"visible",padLeft:6,padRight:6,wp:47,wl:ir,minH:ir,noUpdate:!0,parentAlign:"br",noContent:!1};return ar&&Object.assign(e,{wp:"fit-to-text-w",wl:ir,wPad:function(){return or.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(t.getString(lr),'</span>\n        <div class="icon">\n          ').concat(kn(lr)(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),e}));function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function cr(t,e,n){return(e=fr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ur(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,fr(i.key),i)}}function fr(t){var e=function(t,e){if("object"!==sr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==sr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sr(e)?e:String(e)}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}function hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=yr(t);if(e){var r=yr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pr(t)}(this,n)}}function pr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}var br=DS,vr=br.events,mr=br.pubSub,gr=br.detection.orientation,wr=(br.utils.getPath,br.dom.hasClass),Sr=br._,kr=Sr.bindAll,Or=Sr.first,Cr=Sr.kebabCase,Er=br.globalEventHelper.addWindowListener,Lr=br.constants.MOBILE_ANIMATION_DURATION,Tr=/Panel$/,xr=/Link$/,Pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(o,t);var e,n,i,r=hr(o);function o(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t)).ns=G.getCurrentNameSpace(),kr(pr(n),"onShow","onHide","onCloseClick","onLayoutReady","onCheckLayoutLandscape"),mr.on((cr(e={},vr.tab.SHOW,n.onShow),cr(e,vr.tab.HIDE,n.onHide),cr(e,vr.frame.LAYOUT_READY,n.onLayoutReady),e)),o.current=Or(n.view.children),n.onClickEl(n.tabCloseEl,n.onCloseClick),Er("resize",n.onCheckLayoutLandscape),n}return e=o,n=[{key:"isDeactivated",value:function(t){return wr(document.body,"no-"+t)}},{key:"onCheckLayoutLandscape",value:function(){!this.view.visible&&null!=this.lastViewVisibility&&gr.isLandscape&&(this.onLayoutReady(this.lastViewVisibility),this.lastViewVisibility=null)}},{key:"onLayoutReady",value:function(t){var e=this;if(null==this.lastLink||!t[this.lastLink.nameKey])if(gr.isLandscape){var n=this.ns.tabs.children;o.panelAvailable=n.some((function(n){var i=n.nameKey.replace(xr,""),r=xr.test(n.nameKey)&&t[n.nameKey]&&!e.isDeactivated(i);return r&&e.onShow(n.nameKey.replace(xr,"Panel"),!1),r})),this.lastViewVisibility=null}else this.lastViewVisibility=t}},{key:"onCloseClick",value:function(){gr.isLandscape?this.ns.sidebar.viewLogic.toggle():mr.trigger(DS.events.tab.HIDE)}},{key:"onShow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view.children[t];if(this.view.setVisibility(e),null!=this.lastPanel&&this.lastPanel.setVisibility(!1),null!=n){n.setVisibility(e),o.current=n;var i=this.ns[t.replace(Tr,"Link")];this.lastLink=i,i.viewLogic.select(),e&&(mr.trigger(vr.slide.ARIA_TOGGLE,{hidden:!0}),"outlinePanel"===t?mr.trigger(vr.mobile.OUTLINE_SHOWN):"transcriptPanel"===t&&mr.trigger(vr.mobile.NOTES_SHOWN),document.body.classList.add("tab-shown"),null!=this.prevPanelName&&document.body.classList.remove(this.prevPanelName),this.prevPanelName=this.activePanelClass(t),document.body.classList.add(this.prevPanelName),null!=this.lastPanel&&(this.lastPanel.el.style.opacity=0),n.el.style.opacity=1),this.lastPanel=n}}},{key:"activePanelClass",value:function(t){return"tab-active-".concat(Cr(t))}},{key:"onHide",value:function(t){clearTimeout(this.tabShownDelayId),this.tabShownDelayId=setTimeout((function(){document.body.classList.remove("tab-shown")}),Lr),mr.trigger(vr.slide.ARIA_TOGGLE,{hidden:!1}),this.view.setVisibility(!1)}}],n&&ur(e.prototype,n),i&&ur(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le);Pr.current=null,Pr.panelAvailable=!1;var Ir=Pr;function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function jr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||Br(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(t,e,n){return(e=Nr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ar(t){return function(t){if(Array.isArray(t))return Rr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Br(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(t,e){if(t){if("string"==typeof t)return Rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(t,e):void 0}}function Rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Mr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Nr(i.key),i)}}function Nr(t){var e=function(t,e){if("object"!==_r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==_r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_r(e)?e:String(e)}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ur(t);if(e){var r=Ur(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===_r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vr(t)}(this,n)}}function Vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}var Wr=DS,zr=Wr._,Zr=Wr.detection,Kr=Zr.orientation,Gr=Zr.deviceView,Qr=Gr.isTablet,qr=Gr.isPhone,Yr=Wr.events,Xr=Wr.pubSub,$r=Wr.dom,Jr=($r.addClass,$r.removeClass,Wr.globalEventHelper),to=Jr.addWindowListener,eo=Jr.addDocumentListener,no=Wr.constants,io=no.MOBILE_UI_SIZE,ro=no.MOBILE_ANIMATION_DURATION,oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(o,t);var e,n,i,r=Fr(o);function o(t){var e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,t),zr.bindAll(Vr(n),"showContent","hideContent","onCheckTabShown","onCheckTabHidden","forceHide","onToggleSearch");var i=G.getCurrentNameSpace();return n.panels=i.panels,n.visibleOverlay=i.visibleOverlay,n.hamburger=i.hamburger,n.toggleShow=!1,window.requestAnimationFrame((function(){Ar(document.querySelectorAll(".hamburger")).forEach((function(t){return n.onClickEl(t,n.onToggle)}))})),to("resize",n.onResize.bind(Vr(n))),Xr.on((Dr(e={},Yr.sidebar.OPEN,n.showContent),Dr(e,Yr.sidebar.CLOSE,n.hideContent),Dr(e,Yr.tab.SHOW,n.onCheckTabShown),Dr(e,Yr.tab.HIDE,n.onCheckTabHidden),Dr(e,Yr.window.STACKING_CHANGED,n.forceHide),e)),n.searchToggle=!1,eo("touchend",n.onToggleSearch),n.hideContent(),n}return e=o,n=[{key:"onToggleSearch",value:function(t){if(t.target.classList.contains("search-toggle-btn")){this.searchToggle=!this.searchToggle;var e=jr(this.searchToggle?["add",Yr.sidebar.SHOW_SEARCH,!0]:["remove",Yr.sidebar.HIDE_SEARCH,!1],3),n=e[0],i=e[1],r=e[2];Xr.trigger(i),document.body.classList[n]("search-active"),t.target.setAttribute("aria-pressed",r)}}},{key:"forceHide",value:function(t){"MessageWnd"===t&&(this.hideContent(),Xr.trigger(Yr.tab.HIDE))}},{key:"onCheckTabShown",value:function(){this.tabShown=!0,Kr.isPortrait&&this.hideContent()}},{key:"onCheckTabHidden",value:function(){this.tabShown=!1}},{key:"onResize",value:function(){var t=this;this.el.classList.remove("transition-all"),setTimeout((function(){t.el.classList.add("transition-all"),t.tabShown&&Kr.isLandscape&&(t.showContent(),t.el.style.display="block")}),ro),this.hideContent()}},{key:"ariaToggleBurger",value:function(t){null==this.hamburgers&&(this.hamburgers=document.querySelectorAll(".hamburger")),this.hamburgers.forEach((function(e){e.setAttribute("aria-expanded",t)}))}},{key:"showContent",value:function(){var t=this,e=this.view.children.tabs,n=G.getNamespace(this.view.nameSpace).hamburger;if(Kr.isPortrait&&this.visibleOverlay.setVisibility(!0),this.el.removeAttribute("aria-hidden"),this.el.focus(),this.el.style.display="block",window.requestAnimationFrame((function(){t.el.style.opacity=1;var n=window.innerHeight-e.h-io,i=0;Qr&&(n-=25,i=25),t.el.style.transform=Kr.isPortrait?"translate(".concat(i,"px, ").concat(n,"px)"):"translate(".concat(window.innerWidth-160,"px, 0)")})),this.toggleShow=!0,null!=n){var i=n.children,r=i.burger,o=i.searchBtn;this.ariaToggleBurger(!0),this.el.setAttribute("aria-expanded",!0),(qr||Qr&&Kr.isLandscape)&&(r.el.style.display="none"),null!=o&&(o.el.style.display="none")}if(!this.tabShown&&Kr.isLandscape&&Ir.panelAvailable){var a=Ir.current||zr.first(this.panels.children);null!=a&&(Xr.trigger(Yr.tab.SHOW,a.nameKey),this.tabShown=!0)}}},{key:"hideContent",value:function(){var t=this,e=G.getNamespace(this.view.nameSpace).hamburger;if(this.visibleOverlay.setVisibility(!1),this.el.style.opacity=0,this.el.setAttribute("aria-hidden",!0),Kr.isPortrait&&setTimeout((function(){t.el.style.display="none"}),ro),this.view.updateTrans(),this.toggleShow=!1,null!=e){var n=e.children,i=n.burger,r=n.searchBtn;this.ariaToggleBurger(!1),i.el.style.display="block",null!=r&&(r.el.style.display="block"),this.el.setAttribute("aria-expanded",!1)}}},{key:"toggle",value:function(){this.toggleShow?(this.hideContent(),zr.forEach(this.el.querySelectorAll(".selected"),(function(t){return t.classList.remove("selected")})),Kr.isLandscape&&Xr.trigger(Yr.tab.HIDE)):this.showContent(),this.ariaToggleBurger(this.toggleShow),this.el.setAttribute("aria-expanded",this.toggleShow)}},{key:"onToggle",value:function(t){null!=this.hamburger&&this.hamburger.enabled&&this.toggle()}}],n&&Mr(e.prototype,n),i&&Mr(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),ao=oo,lo=DS.constants.MOBILE_UI_SIZE,so=DS.detection.deviceView.isTablet,co="sidebar";function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function fo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==uo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==uo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===uo(o)?o:String(o)),i)}var r,o}function ho(t,e){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ho(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=yo(t);if(e){var r=yo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===uo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}G.def(co,ao,(function(t){var e=G.getNamespace(t).tabs,n={tag:"section",attrs:{id:co,"aria-label":"sidebar",class:"transition-all "+(so?"sidebar-tablet-trans":"")},z:3,overflow:"visible",wp:function(){return this.parent.w},wl:160,hp:function(){return e.h+lo},hl:function(){return this.parent.w},xp:0,xl:function(){return window.innerWidth},yl:0,yp:function(){return window.innerHeight},html:On("landscape")};return so&&Object.assign(n,{hp:function(){return e.h},wp:function(){return this.width||this.parent.w}}),n}));var bo=DS,vo=bo._,mo=bo.pubSub,go=bo.events,wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ho(t,e)}(o,t);var e,n,i,r=po(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickLink),e}return e=o,(n=[{key:"onClickLink",value:function(t){mo.trigger(go.tab.SHOW,this.model.name+"Panel")}},{key:"deselect",value:function(){vo.forEach(this.el.parentNode.querySelectorAll(".selected"),(function(t){t.classList.remove("selected")}))}},{key:"select",value:function(){this.deselect(),this.el.classList.add("selected")}}])&&fo(e.prototype,n),i&&fo(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le);function So(t){return So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(t)}function ko(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==So(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==So(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===So(o)?o:String(o)),i)}var r,o}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oo(t,e)}function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Eo(t);if(e){var r=Eo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===So(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Eo(t){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(o,t);var e,n,i,r=Co(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickLink),e}return e=o,(n=[{key:"onClickLink",value:function(t){var e=this.model.properties.data;DS.pubSub.trigger(DS.events.sidebar.CLOSE),DS.pubSub.trigger(DS.events.tab.HIDE),DS.pubSub.trigger(DS.events.customlink.EVENT,e)}}])&&ko(e.prototype,n),i&&ko(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le);function To(t){return function(t){if(Array.isArray(t))return xo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return xo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Po=DS,Io=(Po.utils.getPath,Po.constants.MOBILE_UI_SIZE),_o=Po.detection,jo=_o.orientation,Do=_o.deviceView,Ao=Do.isTablet,Bo=Do.isPhone,Ro="tabs",Mo=G.def(Ro,(function(t){var e=!0,n=G.getNamespace(t),i=n.sidebar;n.tabs;return{attrs:{id:Ro,tabindex:0,"aria-label":"sidebar-tabs"},overflow:"auto",x:0,yl:Io,yp:function(){return Ao&&jo.isPortrait?0:Io},noContent:!1,w:"100%",h:function(){return jo.isLandscape?window.innerHeight-58:this.height||0},methods:{sizeToLargestTab:function(){var t=160;this.children.forEach((function(e){e.el.style.width="auto";var n=e.el.clientWidth;n>t&&(t=n)})),i.width=t,i.updateSize(),this.updateSize(),this.children.forEach((function(e){e.el.style.width="",e.width=t,e.updateSize()}))}},updateHook:function(){0!==this.children.length&&(this.flowChildren({fullUpdate:!1,sizeToChildren:!0,vertical:!0}),Ao&&e&&jo.isPortrait?(this.sizeToLargestTab(),e=!1):this.updateSize())},childDef:function(){No(G.model)}}})),No=function(t){[].concat(To(t.sidebarTabs),To(t.topTabsLeft),To(t.topTabsRight)).forEach((function(e,n){!function(t,e,n){var i,r,o,a=e.name,l=a+"Tab";"customlink"===a?(i=Lo,r=e.properties.title,l="link".concat(n),o="custom-link"):(i=wo,r=t.getString(e.name),l=e.name+"Link",o="panel-link");var s=G.def(l,i,{model:Object.assign(e,{idx:n}),tag:"button",attrs:{id:l,class:"tab ".concat(o),"aria-label":r,tabindex:-1},w:function(){return jo.isLandscape||Bo?this.parent.w:this.width||null},h:50,noUpdate:!0,html:r});s.init(),Mo.append(s)}(t,e,n)}))};function Ho(t){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Ho(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ho(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Ho(o)?o:String(o)),i)}var r,o}function Vo(t,e){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vo(t,e)}function Uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=zo(t);if(e){var r=zo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}(this,n)}}function Wo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(t)}var Zo,Ko=DS,Go=Ko.pubSub,Qo=Ko.events,qo=Ko.TweenLite,Yo=Ko.focusManager,Xo=Ko._.bindAll,$o=Ko.dom.addClass,Jo=Ko.detection,ta=!1,ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vo(t,e)}(o,t);var e,n,i,r=Uo(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(e=r.call(this,t)).view.children.searchForm.el,i=e.view.children.searchInput.el;return n.addEventListener("submit",e.onSearch.bind(Wo(e))),Jo.deviceView.isMobile&&(Xo(Wo(e),"onMobileOutlineShown"),i.addEventListener("input",e.onSearch.bind(Wo(e))),Go.on(Qo.mobile.OUTLINE_SHOWN,e.onMobileOutlineShown)),e.ensureEventSubscriptions(),e}return e=o,n=[{key:"teardown",value:function(){Go.off(Qo.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),Go.off(Qo.controlOptions.RESET,this.onControlOptionsReset,this),ta=!1}},{key:"ensureEventSubscriptions",value:function(){ta||(Go.on(Qo.controlOptions.RESET,this.onControlOptionsReset,this),ta=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),$o(document.body,"tab-shown")}},{key:"onFocus",value:function(t){Yo.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(t){t.preventDefault();var e=this.view.parent.children.searchResults,n=this.view.children.bottomDiv,i=document.querySelector("#outline-content ul");qo.to(i,.2,{alpha:0,onComplete:function(){e.el.style.opacity=0,qo.to(e.el,.2,{alpha:1,onComplete:function(){return e.viewLogic.onAfterVisible()}}),n.el.style.opacity=0,e.setVisibility(!0)}}),e.viewLogic.performSearch(this.searchInputEl.value),$o(document.body,"search-results-active")}},{key:"updateVisibility",value:function(t){var e=this.view,n=e.searchResults,i=e.searchResults.visible,r=e.visible;this.view.setVisibility(t),n.setVisibility(t&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&Fo(e.prototype,n),i&&Fo(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),na=ea,ia="search",ra=DS,oa=ra.pubSub,aa=ra.events,la=ra.constants.MOBILE_ANIMATION_DURATION,sa=G.def(ia,na,(function(){var t=G.model,e=(G.getCurrentNameSpaceString(),t.frame.controlOptions.controls.search),n=0;return e&&(n=-58,oa.on(aa.sidebar.SHOW_SEARCH,(function(){n=0,Zo.update()})),oa.on(aa.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){n=-58,Zo.update()}),la)}))),{attrs:{class:ia,"aria-label":t.getString("acc_search_input"),tabIndex:0},style:{background:"white"},z:3,x:0,y:function(){return n},w:function(){return this.parent.w},h:function(){return 58},updateHook:function(){Zo=this},html:'\n      <div class="search-ui">\n        <div data-ref="bottomDiv"></div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(t.getString("search"),'">\n          <div\n            class="input-search-icon"\n            style="background-repeat: no-repeat"\n            tabindex="-1"\n          >').concat(kn("search")(),"</div>\n        </form>\n      </div>\n    ")}}));function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function ua(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==ca(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ca(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ca(o)?o:String(o)),i)}var r,o}function fa(){return fa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ya(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},fa.apply(this,arguments)}function da(t,e){return da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},da(t,e)}function ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ya(t);if(e){var r=ya(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pa(t)}(this,n)}}function pa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ya(t){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ya(t)}var ba=DS,va=ba.focusManager,ma=ba.keyManager,ga=ba.detection,wa=ba.globalEventHelper,Sa=wa.addDocumentListener,ka=wa.removeDocumentListener,Oa=(ba.utils.getPath,ba.dom),Ca=Oa.parentNodesOf,Ea=Oa.addClass,La=Oa.removeClass,Ta=ba._,xa=Ta.first,Pa=Ta.last,Ia=Ta.bindAll,_a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&da(t,e)}(o,t);var e,n,i,r=ha(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Ia(pa(e),"onKeydown","addEvents","onClickItem"),e.addEvents(),e}return e=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(t){return 0===t.tabIndex})).focus()}},{key:"addEvents",value:function(){var t=this;ga.device.isMobile?(this.el.addEventListener("touchmove",(function(e){t.moved=!0})),this.onClick((function(e){t.moved||t.onClickItem(e),t.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||xa(this.getItems()),Ea(this.currentItem,"hover"),ma.isShowFocus&&this.centerOnFocused(),va.setFocusRectOn(this.getFocusRectTarget()),Sa("keydown",this.onKeydown))}},{key:"onBlur",value:function(t){this.el.contains(t.relatedTarget)||(fa(ya(o.prototype),"onBlur",this).call(this,t),null!=this.currentItem&&(La(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),ka("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(t){var e=this.currentItem;ma.isActionKey(t.which)?(this.activateItem(t),ma.isSpaceKey(t.which)&&t.preventDefault()):ma.isDownishKey(t.which)?this.currentItem=this.getNextItem(this.getItemContent()):ma.isUpishKey(t.which)?this.currentItem=this.getPrevItem(this.getItemContent()):ma.isHomeKey(t.which)?this.currentItem=this.getFirstItem():ma.isEndKey(t.which)&&(this.currentItem=this.getLastItem()),e!==this.currentItem&&(t.preventDefault(),e.tabIndex=-1,La(e,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Ea(this.currentItem,"hover"),this.currentItem.focus()),va.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(t){var e=this,n=this.getItems().findIndex((function(n){return e.findIndexCb(n,t)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(t){var e=this,n=this.getItems().findIndex((function(n){return e.findIndexCb(n,t)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Pa(this.getItems())}},{key:"getFirstItem",value:function(){return xa(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(t,e){return t.textContent.trim()===e}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(t){return function(t){return Ca(t,(function(t){return"li"===t.nodeName.toLowerCase()})).reduce((function(t,e){return t+e.offsetTop}),0)}(t)}},{key:"getOffsetHeight",value:function(t){return t.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var t=this.getOffsetEl(),e=this.getOffsetHeight(t),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>e?t.scrollTop=r-e+10:i<n+10&&(t.scrollTop=i-10)}}}])&&ua(e.prototype,n),i&&ua(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),ja=DS,Da=(ja.MicroScrollBar,ja.detection,function(t){return null!=t&&2===t.split(".").length}),Aa=function(){return"no icon"},Ba={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(t,e){var n=Math.min(1,t/5),i=Math.min(1,Math.max(0,t/5-.5));return'<svg class="cs-icon volume-icon '.concat(e?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(t){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(t){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(t){return'\n    <svg style="left:calc('.concat(t,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(t){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false">\n      <path fill="'.concat(t,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(t,e){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n      <defs>\n        <rect id="'.concat(e,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(e,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n          <circle fill="').concat(t,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(t,e){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(t,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(e,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},Ra={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Ma=function(t){return DS.detection.env.isPerpetual?Ba[t]||Aa:Ra[t]||Ba[t]||Aa};function Na(t){return Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(t)}function Ha(t){return function(t){if(Array.isArray(t))return Ua(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Va(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||Va(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(t,e){if(t){if("string"==typeof t)return Ua(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(t,e):void 0}}function Ua(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wa(t,e)}function za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ka(t);if(e){var r=Ka(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Na(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Za(t)}(this,n)}}function Za(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ka(t){return Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Na(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Na(o)?o:String(o)),i)}var r,o}function Qa(t,e,n){return e&&Ga(t.prototype,e),n&&Ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ya=function(t){return Da(t.slideid)},Xa=DS,$a=Xa.windowManager,Ja=Xa.focusManager,tl=Xa.TweenLite,el=Xa.events,nl=Xa.pubSub,il=Xa.keyManager,rl=Xa.resolver,ol=Xa.dom,al=(ol.hasClass,ol.removeClass),ll=ol.addClass,sl=ol.getParentWithClass,cl=Xa._,ul=cl.bindAll,fl=(cl.first,Xa.utils),dl=fl.stripTags,hl=(fl.stripPlayer,fl.prefixWithPlayer),pl=Xa.globalEventHelper,yl=pl.addDocumentListener,bl=(pl.removeDocumentListener,Xa.detection),vl=bl.theme,ml=bl.os,gl=Qa((function t(e,n,i){qa(this,t),this.slideId=e,this.title=n,this.text=i})),wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(n,t);var e=za(n);function n(t){var i;qa(this,n),i=e.call(this,t),ul(Za(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=G.model.frame.notesData||[];return i.notesBySlideId=r.map((function(t){return new gl(hl(t.slideId),DS.utils.getPath(rl.resolvePath(t.slideId,DS.presentation),"title"),dl(t.content).trim())})),i.slideTextData=G.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(t){return!t.slidebank})).map((function(t){return new gl(hl(t.slideid),DS.utils.getPath(rl.resolvePath(t.slideid,DS.presentation),"title"),dl(t.Text).trim())})),i.menuOptions=G.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=G.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(t){return t.slidebank})),i.hasSlideBankSlides&&nl.on(el.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),nl.on(el.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),nl.on(el.window.MAIN_CHANGED,i.onSlideChanged),i}return Qa(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(t){return t.slidebank})).reduce((function(t,e){var n=rl.getSlideBankSlideInstance(e.slideid);return null!==n&&t.push(new gl(n.absoluteId,n.title(),dl(e.Text))),t}),[])}},{key:"teardown",value:function(){nl.off(el.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&nl.off(el.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(t){var e=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(t.absoluteId,'"]'));null!=e&&al(e,"cs-selected"),null!=n&&(ll(n,"cs-selected"),ll(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(t){t.relatedTarget;var e=t.target;if(this.el.contains(e)){if(e===this.searchFilterEl||e===this.clearEl)return Ja.setFocusRectOn(e),this.isFocused=!1,!1;if(e===this.notesCheckEl||e===this.slideCheckEl)return Ja.setFocusRectOn(e.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!vl.isUnified||il.isShowFocus)){var n=Fa(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),yl("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(t){this.notesCheckEl.hidden=t,this.slideCheckEl.hidden=t}},{key:"onToggleSearchOptions",value:function(t){var e=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){e.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(t){if("locked"!==this.menuOptions.flow){var e=sl(t.target,"listitem"),n=e.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!t.target.classList.contains("cs-viewed")||(ll(e,"cs-viewed"),this.updateAriaLabel(e),nl.trigger(el.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(t){vl.isUnified&&Ha(t.querySelector(".outline-states").children).forEach((function(e){if("none"===window.getComputedStyle(e).display);else{var n=e.getAttribute("aria-label"),i=t.getAttribute("data-slide-title");t.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];Ya(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(t){var e=$a.getCurrentWindow().getCurrentSlide().absoluteId===t||rl.resolvePath(t).viewed,n=this.menuOptions.flow;if(e)switch(n){case"free":case"restricted":return G.model.getString("acc_visited");case"locked":return"".concat(G.model.getString("acc_visited"),", ").concat(G.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return G.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(window.globals.HAS_SLIDE){this.term=e.toLowerCase(),this.items=null,this.noSearchTerm=""===e,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=G.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(e){e.forEach((function(e){(e.text.toLowerCase().indexOf(t.term)>=0||e.title.toLowerCase().indexOf(t.term)>=0)&&t.searchResults.set(e.slideId,e.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);ml.isIOS;var o=this.wrapListItems?"":"no-wrap",a=$a.getCurrentWindow().getCurrentSlide().absoluteId,l=0;this.searchResults.forEach((function(e,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=rl.resolvePath(n).viewed?"cs-viewed":"",c=t.menuOptions.flow,u=t.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(e,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(e," ").concat(u,"</span>");vl.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(e,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(G.model.getString("acc_visited"),'">\n               ').concat(Ma("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(G.model.getString("acc_locked"),'">\n               ').concat(Ma("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(G.model.getString("acc_visited"),", ").concat(G.model.getString("acc_locked"),'">\n               ').concat(Ma("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(e,"\n        </div>"),r.innerHTML=f,t.resultsEl.appendChild(r),l=-1}))}}},{key:"onClear",value:function(){var t=this,e=this.view.parent.children,n=e.outline,i=e.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),tl.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){tl.to(t.outlineUl,t.animationDuration,{alpha:1}),t.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,il.isShowFocus&&t.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",al(document.body,"search-results-active"),nl.trigger(el.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Ha(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(t,e){return t===e}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(_a),Sl=wl;function kl(t){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(t)}function Ol(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==kl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===kl(o)?o:String(o)),i)}var r,o}function Cl(){return Cl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xl(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Cl.apply(this,arguments)}function El(t,e){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},El(t,e)}function Ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=xl(t);if(e){var r=xl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tl(t)}(this,n)}}function Tl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xl(t){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xl(t)}var Pl=DS,Il=Pl.pubSub,_l=Pl.events,jl=Pl.utils.toSeconds,Dl=Pl.constants.MOBILE_ANIMATION_DURATION,Al=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(o,t);var e,n,i,r=Ll(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),_.bindAll(Tl(e),"onClear"),e.animationDuration=jl(Dl),Il.on(_l.sidebar.HIDE_SEARCH,e.onClear),e}return e=o,(n=[{key:"onClear",value:function(){Cl(xl(o.prototype),"onClear",this).call(this)}},{key:"onClickLink",value:function(t){Cl(xl(o.prototype),"onClickLink",this).call(this,t),Il.trigger(_l.tab.HIDE),Il.trigger(_l.sidebar.CLOSE),Il.trigger(_l.topEllipsesPanel.HIDE)}}])&&Ol(e.prototype,n),i&&Ol(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Sl);function Bl(t){return Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(t)}function Rl(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Bl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Bl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bl(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ml="searchResults",Nl=G.def(Ml,Al,(function(t){var e,n=G.model,i=n.rtl?"rtl":"";return Rl(e={attrs:{id:Ml+"-content",class:"cs-menu cs-panel panel".concat(i),tabindex:-1},z:2,x:0,y:0,w:"100%"},"y",(function(){return 48})),Rl(e,"h",(function(){return this.parent.h})),Rl(e,"visible",!1),Rl(e,"html",'\n     <div class="outline-title">'.concat(n.title.text,'</div>\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              ').concat(n.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span>').concat(n.getString("filter"),"</span>\n              ").concat(kn("filter")(),'\n            </button>\n          </span>\n          \n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p>').concat(n.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span>').concat(n.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span>').concat(n.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n       \n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto">\n          <span>').concat(n.getString("clear"),"</span>\n          ").concat(kn("clear")(),"\n        </button>\n      </span>\n    ")),e}));function Hl(t){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}function Fl(t){return function(t){if(Array.isArray(t))return Vl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Ul(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Hl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Hl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Hl(o)?o:String(o)),i)}var r,o}function Wl(){return Wl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gl(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Wl.apply(this,arguments)}function zl(t,e){return zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zl(t,e)}function Zl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Gl(t);if(e){var r=Gl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kl(t)}(this,n)}}function Kl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gl(t){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gl(t)}var Ql,ql=DS,Yl=ql.detection,Xl=ql.pubSub,$l=ql._,Jl=ql.events,ts=ql.keyManager,es=ql.resolver,ns=ql.windowManager,is=ql.utils.prefixWithPlayer,rs=ql.focusManager.setFocusRectOn,os=ql.globalEventHelper.addDocumentListener,as=ql.dom,ls=as.parentNodesOf,ss=as.getParentWithClass,cs=as.hasClass,us=as.addClass,fs=as.removeClass,ds=function(t){return ls(t,(function(t){return"li"===t.nodeName.toLowerCase()}))},hs=function(t){return ds(t).slice(1).some((function(t){return cs(t,"item-collapsed")}))},ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zl(t,e)}(o,t);var e,n,i,r=Zl(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),$l.bindAll(Kl(e),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),e.visitedSlides=new Set,e.menuOptions=G.model.frame.controlOptions.menuOptions,Xl.once(Jl.resume.SET_DATA,e.updateVisitedSlides),Xl.on(Jl.window.MAIN_CHANGED,e.onSlideChanged),Xl.on(Jl.mobile.OUTLINE_SHOWN,e.centerOnFocused),Xl.on(Jl.navData.SELECT_FIRST_SLIDE_LINK,e.onSelectFirstSlideLink),e.removeDocListeners=$l.flow(os("mousedown",e.mouseDown),os("mouseup",e.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(e.setDrawSlides),e.isTopTabChild=G.model.topTabs.some((function(t){return"outline"===t.name})),DS.flagManager.aiCourseTranslation&&Xl.on(Jl.frame.SHOW_TAB_ITEM,e.onShowTabItem.bind(Kl(e))),Xl.on(Jl.navData.REFRESH_VIEW,(function(){if(DS.flagManager.multiLangSupport){var t=DS.utils.getPath(e.el.querySelector(".cs-selected"),"dataset.ref");e.view.updateHtml(),e.view.update(),e.view.initChildRefs(),e.visuallyUpdateLinks();var n=DS.utils.getPath(e.view,["children",t,"el"]);null!=n&&us(n,"cs-selected")}else e.view.updateHtml(),e.view.update()})),e}return e=o,n=[{key:"teardown",value:function(){Xl.off(Jl.window.MAIN_CHANGED,this.onSlideChanged),Xl.off(Jl.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(t){return 0===t.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var t=this;this.isMouseDown||(null!=this.view.parent.children.search&&Yl.theme.isUnified?setTimeout((function(){t.el.contains(document.activeElement)&&Wl(Gl(o.prototype),"onFocus",t).call(t)}),500):Wl(Gl(o.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(t){var e=this;if(Yl.theme.isUnified){var n=ss(t.target,"listitem");cs(t.target,"carrot")&&(e.onCarrotClick(n),1)||n&&cs(n.parentNode,"item-collapsible")&&(e.onCarrotClick(n),!cs(n,"is-promoted-slide"))||"locked"!==e.menuOptions.flow&&e.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(t.target)}},{key:"visuallyUpdateLinks",value:function(){var t=this;this.visitedSlides.forEach((function(e){var n=t.view.children[e];null!=n&&(Yl.theme.isUnified?t.updateViewedState(n.el):us(n.el,"cs-viewed"))})),Yl.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(t);Array.from(i).forEach((function(t){Array.from(t.parentNode.querySelectorAll("div")).slice(n).every((function(t){return cs(t,"cs-viewed")}))&&(us(t,"cs-complete"),e.updateAriaLabel(t))}))}},{key:"updateVisitedSlides",value:function(t,e){null!=t&&(t.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(t){var e,n=this,i=this.getItems(),r=i.findIndex((function(e){return n.findIndexCb(e,t)}));do{(r+=1)===i.length&&(r=0),e=i[r]}while(hs(e));return e}},{key:"getPrevItem",value:function(t){var e,n=this,i=this.getItems(),r=i.findIndex((function(e){return n.findIndexCb(e,t)}));do{-1==(r-=1)&&(r=i.length-1),e=i[r]}while(hs(e));return e}},{key:"addSlideToVisited",value:function(t){var e=t.absoluteId,n=t.getScene().absoluteId;this.visitedSlides.add(n).add(e)}},{key:"isCurrentLinkParent",value:function(t,e){return t.el===this.view.children[e].el&&t.el.getAttribute("data-has-links")&&!t.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var t=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=t){var e=t.getAttribute("data-ref");this.selectLink(t,e)}}},{key:"onSlideChanged",value:function(t){if(this.addSlideToVisited(t),!this.currentItem||ss(this.currentItem,"listitem").getAttribute("data-ref")!=t.absoluteId){var e=t.absoluteId,n=this.view.children[e];if(null==n){var i=t.getSlideDraw();null!=i&&(e=i.absoluteId,n=this.view.children[e])}null!=n&&this.selectLink(n.el,e)}}},{key:"selectLink",value:function(t,e){var n=this;this.onClickLink(t,!0),ls(t,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(t,e)||(fs(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(t){return n.el===t}))}},{key:"collapsibleParents",value:function(t){var e=this;return ls(t,(function(t){return t.classList.contains("item-collapsible")}),(function(t){return e.el===t}))}},{key:"collapseLastItem",value:function(t){var e=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(t)||cs(n,"item-collapsed")||e.toggleScene(n)}))}},{key:"toggleScene",value:function(t){var e,n=cs(t,"item-collapsed");if(e=n?"remove":"add",t.classList[e]("item-collapsed"),t.setAttribute("aria-expanded",n),Yl.theme.isUnified){var i=Array.from(t.querySelectorAll("div.listitem")),r=i[0];!function(t,e){if(!n){var i=t.slice(1).filter((function(t){return!cs(t,"is-promoted-slide")&&!cs(t,"is-scene")}));i.some((function(t){return cs(t,"cs-viewed")}))&&fs(e,"cs-unvisited"),i.every((function(t){return cs(t,"cs-viewed")}))&&us(e,"cs-complete")}}(i,r),this.updateAriaLabel(r)}Xl.trigger(Jl.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(t){var e=[].slice.call(t.querySelector(".outline-states").children),n=t.getAttribute("data-slide-title"),i=t.children[0];e.some((function(t){if("none"!==window.getComputedStyle(t).display){var e=t.getAttribute("aria-label");return i.textContent=n+" "+e,!0}}))||(i.textContent=n)}},{key:"onCarrotClick",value:function(t){if(null!==t){var e=ss(t,"item-collapsible");this.toggleScene(e)}}},{key:"onClickLink",value:function(t,e){var n=this;if(t)if(Yl.theme.isUnified){var i=t.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||e||this.visitedSlides.has(i)){if(null!=this.currentItem&&t!==this.currentItem&&(this.currentItem.tabIndex=-1,fs(this.currentItem,"hover")),this.currentItem=t,null!=i&&(this.collapseLastItem(t),this.lastExpandedEls=this.collapsibleParents(t),this.lastExpandedEls.forEach((function(t){var e=t.firstElementChild;i.includes(e.getAttribute("data-ref"))&&(us(e,"cs-viewed"),n.updateAriaLabel(e))}))),cs(t,"listitem")){this.updateViewedState(t);var o=this.el.querySelector(".cs-selected");cs(t,"is-scene")||(null!=o&&(fs(o,"cs-selected"),this.updateAriaLabel(o)),us(t,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(t)})))}else this.onCarrotClick(t);if(r&&!e){var a=ns.getCurrentWindowSlide().absoluteId;i!=a&&(Xl.trigger(Jl.request.NEXT_SLIDE,i),Yl.theme.isUnified&&Xl.trigger(Jl.topEllipsesPanel.HIDE)),Yl.deviceView.isMobile&&(Xl.trigger(Jl.tab.HIDE),(Yl.deviceView.isPhone||Yl.theme.isClassic)&&Xl.trigger(Jl.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&rs(this.currentItem)}}else this.onClickLinkOld(t,e)}},{key:"onClickLinkOld",value:function(t,e){var n=t.getAttribute("data-ref"),i=null!=n,r=Da(n);if("UL"!==t.nodeName)if("restricted"!==this.menuOptions.flow||e||this.visitedSlides.has(n)){if(null!=this.currentItem&&t!==this.currentItem&&(this.currentItem.tabIndex=-1,fs(this.currentItem,"hover")),this.currentItem=t,(r||cs(t.parentNode,"item-collapsible"))&&this.toggleScene(t.parentNode),null!=n&&(this.collapseLastItem(t),this.lastExpandedEls=this.collapsibleParents(t),Array.from(this.lastExpandedEls).forEach((function(t){var e=t.firstElementChild;n.includes(e.getAttribute("data-ref"))&&us(e,"cs-viewed")}))),cs(t,"listitem")){us(t,"cs-viewed");var o=this.el.querySelector(".cs-selected");null!=o&&fs(o,"cs-selected"),us(t,"cs-selected")}else this.onCarrotClick(t);if(i&&!e){var a=ns.getCurrentWindowSlide().absoluteId;r||n==a||(Xl.trigger(Jl.request.NEXT_SLIDE,n),Yl.theme.isUnified&&Xl.trigger(Jl.topEllipsesPanel.HIDE)),Yl.deviceView.isMobile&&(Xl.trigger(Jl.tab.HIDE),(Yl.deviceView.isPhone||Yl.theme.isClassic)&&Xl.trigger(Jl.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&rs(this.currentItem)}else cs(t,"carrot")&&this.onCarrotClick(t)}},{key:"updateViewedState",value:function(t){us(t,"cs-viewed");var e=ds(t).pop();if(!cs(t,"is-scene")&&null!=e){var n=e.querySelector("div.listitem");fs(n,"cs-unvisited")}this.updateAriaLabel(t)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&cs(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(t){var e=this.currentItem;if(ts.isActionKey(t.which))this.activateItem(),ts.isSpaceKey(t.which)&&t.preventDefault();else if(ts.isRightKey(t.which)&&e.dataset.hasLinks)cs(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(ts.isDownKey(t.which))this.currentItem=this.getNextItem(this.getItemContent());else if(ts.isUpKey(t.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(ts.isLeftKey(t.which))if(e.dataset.hasLinks&&!cs(e.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=ss(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else ts.isHomeKey(t.which)?this.currentItem=this.getFirstItem():ts.isEndKey(t.which)&&(this.currentItem=this.getLastItem());e!==this.currentItem&&(t.preventDefault(),fs(e,"hover"),e.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,us(this.currentItem,"hover"),this.currentItem.parentNode.focus()),rs(this.currentItem)}},{key:"hasListItems",value:function(){return!$l.isEmpty(G.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||Fl(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var t="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,e=t?"onClickLink":"onCarrotClick",n=t?this.currentItem:this.currentItem.querySelector(".carrot");this[e](n)}},{key:"findIndexCb",value:function(t,e){return t===e}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return Yl.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(t){return Yl.deviceView.isMobile?$l.first(ls(t,(function(t){return"li"===t.nodeName.toLowerCase()}))).offsetTop:Wl(Gl(o.prototype),"getOffsetTop",this).call(this,t)}},{key:"onShowTabItem",value:function(t,e){if("outline"===t&&null!=e){var n=this.getItems().find((function(t){return t.dataset.translationId===e}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var t=this;Yl.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(e){return e.getAttribute("data-ref")===t.currentSlideId}))),Wl(Gl(o.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var t=this;this.view.draws.forEach((function(e){var n=e.link,i=e.links,r=es.resolvePath(is(n.drawid)),o=function(){var e=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,e].concat(Fl(o.map(t.createNewLink)))),n.spliceNum=o.length,t.view.updateHtml(),t.view.initChildRefs()};r.on(Jl.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(t){var e={kind:"slidelink",expand:!1,type:"slide"};return e.slideid=t.absoluteId,e.slidetitle=e.displaytext=t.get("title"),e}}],n&&Ul(e.prototype,n),i&&Ul(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(_a),ys=ps,bs=DS,vs=bs.pubSub,ms=bs.events,gs=bs.constants.MOBILE_ANIMATION_DURATION,ws="outline",Ss=function(t){for(var e="";t;)e=t.index+1+"."+e,t=null!=t.parent&&"slidelink"===t.parent.kind&&t.parent;return e+" "},ks=G.def(ws,ys,(function(t){var e=G.model,n=G.model.rtl,i=(G.getNamespace(DS.constants.refs.FRAME),n?"rtl":""),r=e.frame.controlOptions.menuOptions,o=r.wrapListItems,a=r.autonumber,l=e.frame.controlOptions.controls.search,s=0;return l&&(vs.on(ms.sidebar.SHOW_SEARCH,(function(){s=48,Ql.update()})),vs.on(ms.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){s=0,Ql.update()}),gs)}))),{tag:"nav",attrs:{id:ws+"-content",class:"cs-menu cs-panel is-scrollable cs-outline panel ".concat(i),tabindex:-1},w:"100%",y:function(){return s},h:function(){var t=this.parent.h;return t-s},overflow:"auto",draws:[],updateHook:function(){Ql=this},html:function(){var t=this,i=e.frame.navData.outline.links||[];this.el.depth=0,this.el.innerHTML='\n        <div class="outline-title">'.concat(e.title.text,"</div>\n      "),function e(i,r,l){var s=document.createElement("ul");s.depth=r.depth+1,r.appendChild(s);for(var c=0;c<i.length;c++){var u=document.createElement("li"),f=i[c];f.parent=l,f.index=c,u.setAttribute("tabindex",-1),s.appendChild(u),u.depth=s.depth;var d=null!=f.links,h=15*u.depth+5,p=f.slideid;null==p&&t.draws.push({link:f,links:i,i:c});var y=Da(p);u.innerHTML='\n            <div\n              class="cs-listitem listitem '.concat(o?"":"no-wrap",'"\n              style="padding-').concat(n?"right":"left",": ").concat(h,'px;"\n              data-ref="').concat(p,'"\n              data-slide-title="').concat(i[c].displaytext,'"\n              ').concat(y?'data-is-scene="true"':"","\n              ").concat(d?'data-has-links="true"':"",'\n              tabIndex="-1"\n              >\n\n               ').concat(a?Ss(f):""," ").concat(f.displaytext,"\n            </div>\n          "),d&&(u.classList.add("item-collapsible"),f.expand||u.classList.add("item-collapsed"),e(f.links,u,f))}}(i,this.el)}}}));function Os(t){return function(t){if(Array.isArray(t))return Cs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Cs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Es="outlineSearch",Ls=G.def(Es,(function(){var t=G.model,e=t.frame,n=t.rtl,i=e.controlOptions.controls.search,r=n?"rtl":"";return{attrs:{id:"".concat(Es,"-content"),class:"outline-search ".concat(r),tabindex:-1},overflow:"scroll",w:"100%",h:"100%",model:e,childViews:[ks].concat(Os(i?[sa,Nl]:[]))}}));function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function xs(t){return function(t){if(Array.isArray(t))return Ps(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ps(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Is(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Bs(i.key),i)}}function _s(t,e){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_s(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=As(t);if(e){var r=As(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ts(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ds(t)}(this,n)}}function Ds(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function As(t){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},As(t)}function Bs(t){var e=function(t,e){if("object"!==Ts(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ts(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ts(e)?e:String(e)}var Rs=DS,Ms=(Rs._,Rs.focusManager),Ns=Rs.detection,Hs=Rs.pubSub,Fs=Rs.events,Vs=Rs.dom,Us=Vs.addClass,Ws=Vs.removeClass,zs=(Rs.keyManager.isTabKey,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_s(t,e)}(o,t);var e,n,i,r=js(o);function o(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),n=Ds(e),a=void 0,(i=Bs(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.view.isUnified&&(e.getScrollEl=function(){return e.termsEl},e.getOffsetTop=function(t){return t.offsetTop},e.getOffsetHeight=function(t){return t.offsetHeight+t.nextElementSibling.clientHeight}),e.hasDefinition=Ns.deviceView.isDesktop&&!e.view.isUnified,Hs.on(Fs.glossary.REFRESH_VIEW,(function(){e.view.updateHtml(),e.view.update()})),DS.flagManager.aiCourseTranslation&&Hs.on(Fs.frame.SHOW_TAB_ITEM,e.onShowTabItem.bind(Ds(e))),e}return e=o,(n=[{key:"onClickItem",value:function(t){var e=t.target;if(this.hasDefinition&&null!=e&&"p"!==e.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==e||(e.setAttribute("aria-expanded",!0),this.openItem(e.parentElement)),this.lastSelected=e}}},{key:"getNextItem",value:function(t){var e,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),e=n[i]}while("none"===e.parentElement.style.display);return e}},{key:"getPrevItem",value:function(t){var e,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),e=n[i]}while("none"===e.parentElement.style.display);return e}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||xs(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(t){Us(t,"cs-selected"),t.nextElementSibling.style.display="block",Us(t.nextElementSibling,"open"),this.activeItem=t}},{key:"closeItem",value:function(t){var e=this;Ws(t,"cs-selected"),Ws(t.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(t,.2,{opacity:1,onComplete:function(){t.nextElementSibling.style.display="none",Ms.setFocusRectOn(e.currentItem)}})}},{key:"onShowTabItem",value:function(t,e){if("glossary"===t&&null!=e){var n=xs(this.el.querySelectorAll("[data-translation-id]")).find((function(t){return t.dataset.translationId===e}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Is(e.prototype,n),i&&Is(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(_a));function Zs(t){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(t)}function Ks(t){return function(t){if(Array.isArray(t))return Gs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Gs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Qs(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Zs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Zs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Zs(o)?o:String(o)),i)}var r,o}function qs(t,e){return qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qs(t,e)}function Ys(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=$s(t);if(e){var r=$s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Zs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xs(t)}(this,n)}}function Xs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $s(t){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$s(t)}var Js=DS,tc=(Js.detection,Js.pubSub),ec=Js.events,nc=Js.keyManager.isSpaceKey,ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qs(t,e)}(o,t);var e,n,i,r=Ys(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),tc.on(ec.resources.REFRESH_VIEW,(function(){e.view.updateHtml(),e.view.update()})),DS.flagManager.aiCourseTranslation&&tc.on(ec.frame.SHOW_TAB_ITEM,e.onShowTabItem.bind(Xs(e))),e}return e=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||Ks(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(t){nc(t.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(t){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(t,e){if("resource"===t&&null!=e){var n=this.getItems().find((function(t){return t.dataset.translationId===e}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Qs(e.prototype,n),i&&Qs(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(zs),rc=DS,oc=rc.utils,ac=oc.getPath,lc=oc.stripTags,sc=rc.detection.device.isMobile,cc="resources",uc=G.def(cc,ic,(function(){var t=G.model,e=t.frame,n=t.rtl?"rtl":"";return DS.slideObjectUtils.activeMobileMenuItem(G.model.frame.resourceData.resources,"no-resources"),{attrs:{id:"".concat(cc,"-content"),class:"is-scrollable panel ".concat(n),tabindex:-1},overflow:"",model:e,html:'\n      <h4 class="resources-title '.concat(n,'" tabindex="-1">\n        ').concat(lc(ac(e,"resourceData.description")),"\n      </h4>\n      <div class='resources-content panel-content'>\n        <ul>\n          ").concat(ac(e,"resourceData.resources",[]).reduce((function(t,e,n){var i=sc?"data-url":"href",r=sc?e.url:"javascript:DS.windowOpen.open({ url: '".concat(e.url,"' })"),o=sc?'target="_blank"':"";return"".concat(t,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(e.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(e.url,'" ').concat(i,'="').concat(r,'" ').concat(o,' tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(e.image,'" role="presentation" tabindex="-1" />\n                    ').concat(e.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")}})),fc=DS,dc=fc.slideObjectUtils,hc=fc.utils.getPath,pc="glossary",yc=G.def(pc,(function(){var t=G.model,e=G.model.rtl?"rtl":"";return dc.activeMobileMenuItem(t.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(pc,"-content"),class:"panel ".concat(e),tabindex:-1},w:"100%",h:"100%",model:t,html:'\n      <h4 class="panel-section-heading glossary-title cs-heading">\n        '.concat(t.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <ul>\n        ').concat(hc(t,"frame.glossaryData",[]).map((function(t){return'\n              <dt class="glossary-item glossary-term" tabindex="-1">\n                '.concat(t.title,'\n              </dt>\n              <dd class="glossary-item glossary-desc" tabindex="-1">\n                ').concat(t.content,"\n              </dd>\n            ")})).join(""),"\n        </ul>\n      </div>")}}));function bc(t){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(t)}function vc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==bc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==bc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===bc(o)?o:String(o)),i)}var r,o}function mc(t,e){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mc(t,e)}function gc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Sc(t);if(e){var r=Sc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===bc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wc(t)}(this,n)}}function wc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sc(t){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sc(t)}var kc=/color:#ffffff/gi,Oc=DS,Cc=Oc.detection,Ec=Oc.events,Lc=Oc.focusManager,Tc=Oc.pubSub,xc=(Oc.utils,Oc.slideObjectUtils),Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mc(t,e)}(o,t);var e,n,i,r=gc(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Tc.on(Ec.window.MAIN_CHANGED,e.onSlideChanged.bind(wc(e))),(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&Tc.on(Ec.transcript.REFRESH_VIEW,e.onRefreshView.bind(wc(e))),Cc.deviceView.isClassicMobile?Tc.on(Ec.mobile.NOTES_SHOWN,e.onHamburgerToggle.bind(wc(e),!1)):Cc.deviceView.isUnifiedMobile&&Tc.on(Ec.hamburger.TOGGLE,e.onHamburgerToggle.bind(wc(e))),e.forceScrollToTop=!1,e}return e=o,(n=[{key:"onHamburgerToggle",value:function(t){this.forceScrollToTop&&!t&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),Lc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(t){var e=(this.model.notesData||[]).find((function(e){return t.absoluteId.includes(e.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=t.get("title"));var n=null==e?"":e.content;Cc.deviceView.isClassicMobile&&(n=n.replace(kc,"color:#515557")),this.contentEl.innerHTML=n,Tc.trigger(Ec.transcript.CHANGED),xc.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}},{key:"onRefreshView",value:function(){var t=DS.windowManager.getMainWindowSlide();null!=t&&this.onSlideChanged(t)}},{key:"scrollToTop",value:function(){Cc.deviceView.isDesktop?this.view.el.scrollTop=0:Cc.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:G.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return Cc.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Tc.off(Ec.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.multiLangSupport&&Tc.off(Ec.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),Cc.deviceView.isClassicMobile?Tc.off(Ec.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):Cc.deviceView.isUnifiedMobile&&Tc.off(Ec.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&vc(e.prototype,n),i&&vc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),Ic="transcript",_c={resources:uc,transcript:G.def(Ic,Pc,(function(){var t=G.model,e=t.rtl?"rtl":"";return{attrs:{id:Ic+"-content",class:"cs-menu cs-panel is-scrollable cs-menu cs-transcript panel ".concat(e),tabindex:-1},w:"100%",h:"100%",html:'\n      <h4 data-ref="title" class="note-title cs-heading panel-section-heading"></h4>\n      <hr class="cs-div"></hr>\n      <div data-ref="content" class="note-content"></div>\n    ',model:t.frame}})),glossary:yc,outline:Ls};function jc(t){return function(t){if(Array.isArray(t))return Dc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Dc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Ac=DS.constants.MOBILE_UI_SIZE,Bc=G.def("panels",Ir,(function(){var t=G.model;return{attrs:{class:"panels"},x:0,y:0,wp:function(){return window.innerWidth+2},hp:function(){return window.innerHeight-Ac+2},wl:function(){return window.innerWidth-160},hl:function(){return window.innerHeight+2},bgColor:"white",z:3,visible:!1,html:'\n      <button class="tab-close" data-ref="tabClose" aria-label="'.concat(t.getString("close"),'">\n        ').concat(kn("close")(),"\n      </button>\n    "),childDef:function(){Rc(t)}}})),Rc=function(t){[].concat(jc(t.sidebarTabs),jc(t.topTabsLeft),jc(t.topTabsRight)).forEach((function(t,e){"customlink"!==t.name&&function(t,e,n){var i=e.name,r=i+"Panel",o=G.def(r,{attrs:{id:r,class:"tab-panel is-scrollable","aria-labelledby":i+"-tab",role:"tabpanel",tabindex:0},visibility:"no-reflow",visible:!1,overflow:"auto",x:0,y:0,w:"100%",h:"100%"});o.init(),Bc.append(o);var a=_c[i];null!=a&&(a.init(),o.append(a))}(0,t)}))};function Mc(t){return Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(t)}function Nc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Mc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Mc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Mc(o)?o:String(o)),i)}var r,o}function Hc(t,e){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hc(t,e)}function Fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Vc(t);if(e){var r=Vc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(t)}var Uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hc(t,e)}(o,t);var e,n,i,r=Fc(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickOverlay),e}return e=o,(n=[{key:"onClickOverlay",value:function(t){DS.pubSub.trigger(DS.events.sidebar.CLOSE)}}])&&Nc(e.prototype,n),i&&Nc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le);function Wc(t){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(t)}function zc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,qc(i.key),i)}}function Zc(t,e){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zc(t,e)}function Kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Qc(t);if(e){var r=Qc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gc(t)}(this,n)}}function Gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qc(t){return Qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qc(t)}function qc(t){var e=function(t,e){if("object"!==Wc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Wc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wc(e)?e:String(e)}G.def("visibleOverlay",Uc,(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},visible:!1,position:"fixed",bgColor:"rgba(0, 0, 0, 0.5)",add:!0}}));var Yc=DS,Xc=Yc.pubSub,$c=Yc.captionsManager,Jc=Yc.stringTabler,tu=Yc.events.captions,eu=tu.SHOW_BUTTON,nu=tu.HIDE_BUTTON,iu=tu.ENABLED,ru=tu.ENABLE,ou=Yc.detection.theme.isUnified,au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zc(t,e)}(o,t);var e,n,i,r=Kc(o);function o(t){var e,n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),n=Gc(e),a=!0,(i=qc(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,e.onClick(e.onClickCaptions),e.toggle=!1,Xc.on(eu,(function(t){return e.onVisibilityChanged(!0)})),Xc.on(nu,(function(t){return e.onVisibilityChanged(!1)})),Xc.on(iu,e.onCaptionsEnabled.bind(Gc(e))),e}return e=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(t){this.view.setVisibility(t,!0),this.view.childVisibilityChanged(),this.toggle=$c.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(t){this.toggle=t,this.updateBtn()}},{key:"updateBtn",value:function(){var t=this.toggle?"add":"remove";this.view.el.classList[t]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",Jc.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),ou&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(t){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Xc.trigger(ru,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var t=this.view.getBox(),e=(t.h-30)/2;return t.h=30,t.y=t.y+e,t}},{key:"teardown",value:function(){Xc.off(eu),Xc.off(nu),Xc.off(iu)}}])&&zc(e.prototype,n),i&&zc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le);function lu(t){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(t)}function su(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==lu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==lu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lu(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cu=DS.constants.MOBILE_UI_SIZE,uu="captions";function fu(t){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(t)}function du(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,gu(i.key),i)}}function hu(){return hu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vu(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},hu.apply(this,arguments)}function pu(t,e){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pu(t,e)}function yu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=vu(t);if(e){var r=vu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===fu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bu(t)}(this,n)}}function bu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(t)}function mu(t,e,n){return(e=gu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gu(t){var e=function(t,e){if("object"!==fu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==fu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===fu(e)?e:String(e)}G.def(uu,au,(function(){var t,e=G.model;return su(t={tag:"button",attrs:{id:uu,class:"cs-button btn","aria-label":e.getString("acc_closed_captions"),tabindex:0,"aria-pressed":!0},xp:function(){return this.left||0},xl:function(){return(this.parent.w-this.w)/2},minH:cu,noUpdate:!0,visible:!1,parentAlign:"tr",html:kn("captions")()},"xp",(function(){return this.left||0})),su(t,"xl",(function(){return(this.parent.w-this.w)/2})),su(t,"minW",47),t}));var wu=DS,Su=wu.dom,ku=Su.addClass,Ou=Su.removeClass,Cu=wu.appState,Eu=wu.scaler,Lu=wu.shortcutManager,Tu=wu.events,xu=wu.focusManager,Pu=wu.pubSub,Iu=wu.keyManager,_u=wu.utils.fullScreen,ju=wu.globalEventHelper.addDocumentListener,Du=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pu(t,e)}(o,t);var e,n,i,r=yu(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),mu(bu(e=r.call(this,t)),"hasTooltip",!0),mu(bu(e),"tooltipKey","acc_settings"),mu(bu(e),"hideTooltipWhenOpen",!0),mu(bu(e),"onToggleBackgroundAudio",(function(){Pu.trigger(Tu.backgroundAudio.TOGGLE)})),mu(bu(e),"toggleBackgroundAudio",(function(){e.updateToggle(e.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),mu(bu(e),"onCaptionsEnabled",(function(){e.view.updateHook()})),DS._.bindAll(bu(e),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),e.onClickEl(e.settingsBtnEl,e.togglePanel),null!=e.shortcutsSwitchEl&&(e.onClickEl(e.shortcutsSwitchEl,e.toggleShortcuts),DS.pubSub.on(Tu.player.ENABLE_KEYBOARD_SHORTCUTS,e.onKeyboardShortcutsChanged)),null!=e.captionsButtonEl&&(e.onClickEl(e.captionsButtonEl,e.toggleCaptions),Pu.on(Tu.captions.ENABLED,e.onCaptionsEnabled)),null!=e.resetButtonEl&&e.onClickEl(e.resetButtonEl,e.resetTimeline),null!=e.acctextSwitchEl&&(e.onClickEl(e.acctextSwitchEl,e.toggleAccessibleText),Cu.on(Tu.player.ACCESSIBLE_TEXT_CHANGED,e.onAccessibleTextChanged)),null!=e.zoomSwitchEl&&(e.onClickEl(e.zoomSwitchEl,e.toggleZoomMode),Pu.on(Tu.window.ZOOM_MODE_CHANGED,e.onZoomModeChanged)),e.handleFullScreenChange=e.handleFullScreenChange.bind(bu(e)),null!=e.fullScreenToggleButtonEl&&(e.onClickEl(e.fullScreenToggleButtonEl,e.toggleFullScreen),e.removeFullScreenListener=_u.addChangeListener(e.handleFullScreenChange)),null!=e.backgroundAudioSwitchEl&&(e.onClickEl(e.backgroundAudioSwitchEl,e.onToggleBackgroundAudio),Pu.on(Tu.backgroundAudio.HAS_TOGGLED,e.toggleBackgroundAudio)),e}return e=o,(n=[{key:"toggleFullScreen",value:function(){Cu.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){_u.getEl()===Cu.getPresoEl()?ku(this.el,"full-screen"):Ou(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var t=this;this.isOpen=!0,ku(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=ju("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Ou(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(t){Iu.isEscapeKey(t.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),xu.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(t){null!=t&&this.isOpen&&!this.el.contains(t.relatedTarget)&&(this.hidePanel(),hu(vu(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(t,e){e?(ku(t,"toggle-on"),Ou(t,"toggle-off")):(ku(t,"toggle-off"),Ou(t,"toggle-on")),t.querySelector("button").setAttribute("aria-checked",e)}},{key:"onAccessibleTextChanged",value:function(t){this.accTextOn=t,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(t){this.updateToggle(this.shortcutsSwitchEl,t)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),Cu.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,Eu.zoomMode)}},{key:"toggleZoomMode",value:function(){Eu.enableZoomMode(!Eu.zoomMode),this.updateToggle(this.zoomSwitchEl,Eu.zoomMode),xu.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){Lu.enableShortcuts(!Lu.enabled),this.updateToggle(this.shortcutsSwitchEl,Lu.enabled)}},{key:"toggleCaptions",value:function(){G.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){G.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){Cu.off(Tu.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),Pu.off(Tu.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),Pu.off(Tu.captions.ENABLED,this.onCaptionsEnabled),Pu.off(Tu.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(t){var e=t.target;if(this.el.contains(e))return xu.setFocusRectOn(e),this.onHoverIn(t),this.isFocused=!1,!1}}])&&du(e.prototype,n),i&&du(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),Au=DS,Bu=Au.dom,Ru=Bu.addClass,Mu=Bu.removeClass,Nu=Au.appState,Hu=Au.utils,Fu=Hu.pxify,Vu=Hu.getPath,Uu=Au.detection,Wu=(Uu.deviceView.isPhone,Uu.orientation),zu=Au.constants.MOBILE_UI_SIZE,Zu="settings";function Ku(t){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(t)}function Gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function qu(t,e,n){return(e=Xu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Xu(i.key),i)}}function Xu(t){var e=function(t,e){if("object"!==Ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ku(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ku(e)?e:String(e)}function $u(t,e){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$u(t,e)}function Ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ef(t);if(e){var r=ef(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tf(t)}(this,n)}}function tf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ef(t)}G.def(Zu,Du,(function(t){var e=G.model,n=(G.model.rtl,G.getNamespace(t)),i=n.optionPane,r=n.captions;return{noUpdate:!0,attrs:{id:Zu,class:"cs-settings"},overflow:"visible",minW:zu,minH:zu,w:47,h:zu,z:2,xp:function(){return this.left||0},xl:function(){return 0},y:function(){return this.top||0},methods:{getControlConfigs:function(){return DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return Nu.accessibleTextOn()}}]:[]},getToggleControls:function(){return this.getControlConfigs().map((function(t){var n=t.name,i=t.labelId,r=(0,t.isOn)();return'\n            <div class="switch '.concat(r?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" id="').concat(n,'-label">\n                ').concat(e.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(r,'" aria-labelledby="').concat(n,'-label">\n                ').concat(kn("track")(n),"\n              </button>\n            </div>\n          ")})).join("")},getIconConfigs:function(){return[{name:"captions",labelId:"acc_closed_captions",getIcon:kn("captions")}]},getIconControls:function(){return this.getIconConfigs().map((function(t){var n=t.name,i=t.labelId,r=t.getIcon;return'\n            <button id="'.concat(n,'-overflow" class="cs-button overflow-button" tabindex="0" aria-label="').concat(e.getString(i),'" data-ref="').concat(n,'Button">\n              ').concat(r(),"\n            </button>          \n          ")})).join("")},updatePanelPosition:function(){if(null!=i){var t=this.children.settingsPanel.el;if(t.style.left=0,!Wu.isLandscape){var e=t.getBoundingClientRect(),n=i.el.getBoundingClientRect(),r=0;e.right>n.right&&(r=n.right-(e.right+10)),e.left<n.left&&(r=n.left-e.left+10),t.style.left=Fu(r)}}}},updateHook:function(){var t=this;window.requestAnimationFrame((function(){return t.updatePanelPosition()}));var e=Vu(r,"viewLogic.toggle");e?(Ru(this.el,"captions-on"),Mu(this.el,"captions-off")):(Ru(this.el,"captions-off"),Mu(this.el,"captions-on")),this.setVisibility(0!==this.getControlConfigs().length||e)},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button settings-button" aria-label="'.concat(e.getString("acc_settings"),'" tabIndex="0">\n          ').concat(kn("settings")(),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel top-tabs-drop" tabindex="-1">\n          <div class="icon-buttons">\n            ').concat(this.getIconControls(),'\n          </div>\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div class="panel-down-arrow">\n          ').concat(kn("downArrow")(),"\n        </div>\n      ")}}}));var nf=DS,rf=nf.detection,of=nf.events,af=nf.pubSub,lf=nf.svgUtils,sf=nf._.bindAll,cf={remaining:function(t,e){return DS.utils.formatSecondsAsTime(e-t,!0)},totalelapsed:function(t,e){return[t,e].map((function(t){return DS.utils.formatSecondsAsTime(t,!0)})).join(" / ")},elapsed:function(t){return DS.utils.formatSecondsAsTime(t,!0)},none:function(){return""}},uf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$u(t,e)}(o,t);var e,n,i,r=Ju(o);function o(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,t),sf(tf(n),"onShow","onHide","onTick"),af.on((qu(e={},of.timer.SHOW,n.onShow),qu(e,of.timer.HIDE,n.onHide),e)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=rf.theme.isUnified,n}return e=o,(n=[{key:"getTimeFormat",value:function(){if(!rf.deviceView.isClassicMobile){var t=G.model.sidebarOpts.timeFormat;if(t&&null!=cf[t.toLowerCase()])return t.toLowerCase();if(!G.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var t;af.off((qu(t={},of.timer.SHOW,this.onShow),qu(t,of.timer.HIDE,this.onHide),t))}},{key:"onTick",value:function(t,e,n){if(this.view.children.timerText.el.innerHTML=cf[this.timeFormat](e,n),!rf.deviceView.isClassicMobile){var i=lf.wheelPath(9,9,9,0,360*(1-t),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(t){null!=this.currentTimer&&this.onHide(),this.currentTimer=t,this.currentTimer.on("tick",this.onTick),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(t){var e=Gu(t?["add","remove"]:["remove","add"],2),n=e[0],i=e[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(t),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var t=this.view.children.timerText.el.getBoundingClientRect(),e=t.left,n=t.top,i=t.width,r=t.height;e-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:e,top:n,width:i,height:r})}}])&&Yu(e.prototype,n),i&&Yu(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),ff="timer";G.def(ff,uf,(function(){return{noTabIndex:!0,attrs:{id:ff,"aria-label":"timer",class:"timer"},overflow:"visible",visible:!1,x:0,y:0,w:58,hp:58,hl:34,html:'<div class="timer-text" data-ref="timerText" tabindex="0" data-tabindex="0"></div>'}}));var df=DS,hf=(df.detection,df.detection),pf=hf.orientation,yf=hf.deviceView,bf="disableOverlay";function vf(t){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(t)}function mf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==vf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==vf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===vf(o)?o:String(o)),i)}var r,o}function gf(t,e){return gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gf(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Sf(t);if(e){var r=Sf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sf(t)}G.def(bf,(function(){var t=G.model,e=t.frame,n=window.globals.parseParams().orientations||null,i=JSON.parse(decodeURIComponent(n))||e.orientations,r=i.phone,o=i.tablet;return{attrs:{id:bf,role:"dialog","aria-modal":!0,"aria-labelledby":"mobile-disabled-orientation-text"},style:{fontSize:"".concat(e.fontscale,"%"),background:"black",color:"white"},x:0,y:0,w:function(){},h:function(){},updateHook:function(){var t=!0;pf.isLandscape?(yf.isPhone&&r.includes("landscape")||yf.isTablet&&o.includes("landscape"))&&(t=!1):pf.isPortrait&&(yf.isPhone&&r.includes("portrait")||yf.isTablet&&o.includes("portrait"))&&(t=!1),t&&!pf.forceHideWarning?document.body.classList.add("show-disabled-overlay"):document.body.classList.remove("show-disabled-overlay"),this.el.setAttribute("aria-hidden",!(t&&!pf.forceHideWarning))},html:function(){return'<div class="mobile-disabled-orientation-overlay-inner">\n        <div class="mobile-disabled-orientation-overlay-icon">\n          '.concat(kn("disableOrientation")(),'\n        </div>\n        <div id="mobile-disabled-orientation-text">').concat(t.getString("disabled_orientation"),"</div>\n      </div>")},add:!0}}));var kf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gf(t,e)}(o,t);var e,n,i,r=wf(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),new MutationObserver((function(){e.view.onCaptionChanged()})).observe(e.el,{childList:!0,subtree:!0}),e}return e=o,n&&mf(e.prototype,n),i&&mf(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(Le),Of=DS,Cf=Of.utils.pxify,Ef=Of.constants.MOBILE_UI_SIZE,Lf=Of.detection.orientation;function Tf(t){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(t)}function xf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Tf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Tf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Tf(o)?o:String(o)),i)}var r,o}function Pf(t,e){return Pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pf(t,e)}function If(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=jf(t);if(e){var r=jf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Tf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _f(t)}(this,n)}}function _f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jf(t)}G.def("captionContainer",kf,(function(t){var e=G.getNamespace(DS.constants.refs.FRAME).slide;return{attrs:{class:"caption-container"},overflow:"visible",z:1,wp:function(){return window.innerWidth},wl:function(){return window.innerWidth-Ef},hl:function(){return window.innerHeight},hp:function(){return"unset"},yp:null,add:!0,updateHook:function(){Lf.isPortrait?(this.el.style.height="unset",this.el.style.top="unset",this.onCaptionChanged()):this.el.style.bottom=""},onCaptionChanged:function(){if(Lf.isPortrait){var t=Math.max(0,window.innerHeight-(e.y+e.h+Ef));this.el.style.bottom=Cf((t-this.el.clientHeight)/2+Ef)}}}}));var Df=DS,Af=Df.events,Bf=Df.pubSub,Rf=Df._,Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pf(t,e)}(o,t);var e,n,i,r=If(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),Rf.bindAll(_f(e),"onEnterFullscreen"),e.onClick(e.onClickClose),e.view.setVisibility(!1),Bf.on(Af.presentation.ENTER_FULLSCREEN,e.onEnterFullscreen),e}return e=o,(n=[{key:"onEnterFullscreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickClose",value:function(t){var e=this;DS.utils.fullScreen.exit(),setTimeout((function(){Bf.trigger(Af.presentation.EXIT_FULLSCREEN),e.view.setVisibility(!1)}),300)}}])&&xf(e.prototype,n),i&&xf(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),Nf="fullScreenClose";function Hf(t){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(t)}function Ff(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Kf(i.key),i)}}function Vf(t,e){return Vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vf(t,e)}function Uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=zf(t);if(e){var r=zf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wf(t)}(this,n)}}function Wf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zf(t)}function Zf(t,e,n){return(e=Kf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kf(t){var e=function(t,e){if("object"!==Hf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Hf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hf(e)?e:String(e)}G.def(Nf,Mf,(function(t){return{tag:"button",attrs:{id:Nf,class:"cs-button btn fullscreen-close-btn",tabindex:0},overflow:"visible",html:'\n      <div class="fullscreen-close-btn-bg"></div>\n      '.concat(kn("close")(),"\n    "),x:26,y:26,w:18,h:18,noContent:!0}}));var Gf=DS,Qf=Gf.events,qf=Gf.pubSub,Yf=Gf._,Xf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vf(t,e)}(o,t);var e,n,i,r=Uf(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),Zf(Wf(e=r.call(this,t)),"hasTooltip",!0),Zf(Wf(e),"tooltipKey","acc_enter_fullscreen"),Yf.bindAll(Wf(e),"onExitFullScreen"),e.onClick(e.onClickOpen),qf.on(Qf.presentation.EXIT_FULLSCREEN,e.onExitFullScreen),e}return e=o,(n=[{key:"onExitFullScreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickOpen",value:function(t){qf.trigger(Qf.presentation.ENTER_FULLSCREEN),this.view.setVisibility(!1)}}])&&Ff(e.prototype,n),i&&Ff(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),$f="fullScreenOpen",Jf=DS.constants.MOBILE_UI_SIZE;function td(t){return function(t){if(Array.isArray(t))return ed(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ed(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}G.def($f,Xf,(function(t){G.model;return{tag:"button",attrs:{id:$f,class:"cs-button btn fullscreen-open-btn",tabindex:0},html:"\n      ".concat(kn("enterFullScreen")(),"\n    "),padLeft:6,padRight:6,minW:Jf,minH:Jf,noUpdate:!0,parentAlign:"br",noContent:!1}}));var nd=DS.constants.refs.FRAME,id=DS,rd=id.pubSub,od=id.events,ad=id._.isEmpty,ld=id.detection,sd=ld.device,cd=ld.env,ud=cd.is360,fd=cd.isDevicePreview,dd=cd.enableFs,hd=function(){var t=G.model,e=t.topTabsLeft,n=t.topTabsRight,i=t.sidebarTabs;return!_.isEmpty(e)||!_.isEmpty(n)||!_.isEmpty(i)};function pd(t){return pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(t)}function yd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==pd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==pd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===pd(o)?o:String(o)),i)}var r,o}var bd=DS,vd=bd._,md=bd.pubSub,gd=bd.events,wd=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.nameSpace=e.nameSpace,this.el.classList.add(this.nameSpace),vd.bindAll(this,"onSlideTransitionIn","onWindowClosing"),md.on(gd.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),md.on(gd.window.CLOSING,this.onWindowClosing)}var e,n,i;return e=t,(n=[{key:"onSlideTransitionIn",value:function(t){t.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(t){t===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&yd(e.prototype,n),i&&yd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Sd="lightBoxWrapper";G.def(Sd,wd,(function(){var t=G.model,e=t.slideWidth,n=t.slideHeight;return{attrs:{id:Sd,class:"cs-base fn-".concat(t.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var t=.8*oe.width,i=.8*oe.height;return Math.min(t/e,i/n)},wl:function(){return e*this.dimScale+58},wp:function(){return e*this.dimScale},hl:function(){return n*this.dimScale},hp:function(){return n*this.dimScale+58},x:function(){return(oe.width-this.w)/2},y:function(){return(oe.height-this.h)/2},add:!0}}));var kd="lightBoxSlide";G.def(kd,(function(){var t=G.getCurrentNameSpace().lightBoxWrapper;return{attrs:{class:kd,"aria-live":"assertive",role:"dialog","aria-modal":!0},overflow:"visible",winScale:function(){return t.dimScale},origin:"0 0",wl:function(){return this.parent.wl-58},hl:function(){return this.parent.hl},wp:function(){return this.parent.wp},hp:function(){return this.parent.hp-58},z:1,bgColor:"white",add:!0,html:function(){return'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" transform-origin: 0 0; position: absolute;" tabindex="-1"></main>'}}}));var Od="lightBox";function Cd(t){return Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(t)}function Ed(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Cd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Cd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Cd(o)?o:String(o)),i)}var r,o}function Ld(t,e){return Ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ld(t,e)}function Td(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=xd(t);if(e){var r=xd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Cd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xd(t)}G.def(Od,(function(){return{attrs:{class:"".concat(Od," cs-base")},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var Pd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ld(t,e)}(o,t);var e,n,i,r=Td(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick(e.onClickClose),e}return e=o,(n=[{key:"onClickClose",value:function(t){var e=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,e)}}])&&Ed(e.prototype,n),i&&Ed(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Le),Id="lightBoxClose";G.def(Id,Pd,(function(t){var e={windowId:t};return{tag:"button",attrs:{id:Id,class:"lightbox-close-btn-floating",tabindex:0,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:kn("close"),y:35,x:function(){return window.innerWidth-(this.w+35)},model:e,w:20,h:20}}));var _d="close",jd=DS,Dd=jd.detection.orientation,Ad=jd.constants.MOBILE_UI_SIZE;G.def(_d,Pd,(function(t){var e={windowId:t};return{tag:"button",attrs:{id:_d,class:"cs-button btn",tabindex:0},html:'\n      <div class="icon">\n        '.concat(kn("close")(),"\n      </div>\n    "),model:e,parentAlign:"t-",w:Ad,h:Ad,noContent:!1,beforeReflowHook:function(){this.setVisibility(Dd.isLandscape)}}}));var Bd="LightboxWnd",Rd=DS.detection.orientation,Md="lightBoxBottom";G.def(Md,(function(t){var e=G.model.rtl;return{tag:"nav",attrs:{id:Md,class:"option-pane"},methods:{getZoomBounds:function(){return G.getNamespace(t).zoomBounds},getParentBB:function(){return null==this.cachedParentBB&&(this.cachedParentBB=this.parent.getBox(),null!=this.cachedParentBB&&(this.cachedParentBB.left=this.cachedParentBB.x,this.cachedParentBB.right=this.cachedParentBB.x+this.cachedParentBB.w,this.cachedParentBB.top=this.cachedParentBB.y,this.cachedParentBB.bottom=this.cachedParentBB.y+this.cachedParentBB.h)),this.cachedParentBB},shouldZoom:function(){return null!=this.getParentBB()&&null!=this.getZoomBounds()}},z:1,xp:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return Math.floor(Math.max(t.left,0)-e.left)}return 0},xl:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return e.w+(Math.min(t.right,window.innerWidth-58)-e.right)}return this.parent.w-this.w},yp:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return e.h+(Math.min(t.bottom,window.innerHeight-58)-e.bottom)}return this.parent.h-this.h},yl:function(){if(this.shouldZoom()){var t=this.getZoomBounds(),e=this.getParentBB();return Math.floor(Math.max(t.top,0)-e.top)}return 0},wp:function(){if(this.shouldZoom()){var t=this.getZoomBounds();return Math.ceil(Math.min(t.right,window.innerWidth)-Math.max(t.left,0))}return this.parent.w},wl:58,hp:58,hl:function(){if(this.shouldZoom()){var t=this.getZoomBounds();return Math.ceil(Math.min(t.bottom,window.innerHeight)-Math.max(t.top,0))}return this.parent.h},updateHook:function(){var t=this;if(this.hasAllChildren()){Rd.isLandscape?this.setVisibility(!0):this.setVisibility(this.children.some((function(e){return e.visible&&e!=t.children.close})));var n={vertical:Rd.isLandscape,alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},reverse:e};this.flowChildren(n),this.cachedParentBB=null}},childVisibilityChangedHook:function(){this.update()}}}));var Nd="LightboxControlsWnd",Hd="printWrapper";G.def(Hd,(function(t){return{attrs:{id:Hd,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Fd=DS.constants.printSettings,Vd="printSlide";G.def(Vd,Ge,(function(t){var e=G.model.slideWidth;return{attrs:{id:Vd,class:"cs-window window-slide ".concat(t,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/e},w:function(){var t=DS.detection.os,e=t.isAndroid,n=t.isIOS;return e?Fd.android.pageW:n?Fd.ios.pageW:Fd.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Ud="PrintWindow";function Wd(t){return Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(t)}function zd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==Wd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Wd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Wd(o)?o:String(o)),i)}var r,o}function Zd(t,e){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zd(t,e)}function Kd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Gd(t);if(e){var r=Gd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===Wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gd(t)}var Qd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zd(t,e)}(o,t);var e,n,i,r=Kd(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,t),DS.pubSub.on(DS.events.messageWindow.SHOWN,(function(){e.view.isNotResume=!0,e.view.update()})),e}return e=o,n&&zd(e.prototype,n),i&&zd(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(Le),qd="messageWindowWrapper";G.def(qd,Qd,(function(t){var e=G.model.preso.display().windows().find({id:t});return{attrs:{id:qd},w:e.get("width"),h:e.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},y:function(){return this.isNotResume?(window.innerHeight-this.h)/2:window.innerHeight/2-this.h/2*this.scale},scalel:function(){return this.isNotResume?1:window.innerWidth/this.w},scalep:function(){return this.isNotResume?.8:window.innerWidth/this.w},xl:function(){return this.isNotResume?(window.innerWidth-this.w)/2:0},xp:function(){return this.isNotResume?(window.innerWidth-.8*this.w)/2:0},add:!0}}));var Yd="messageWindowSlide";G.def(Yd,Ge,(function(){return{attrs:{id:Yd,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},winScale:1,origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));G.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Xd,$d="MessageWnd";function Jd(t){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(t)}function th(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Jd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Jd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t,e){Jt(t),function(t){var e=window.globalProvideData;if(window.globalProvideData=function(t,n){"frame"===t&&(null!=(vt=JSON.parse(n)).localization&&DS.flagManager.multiLangSupport?(DS.localizationManager.registerFrameLanguageData(vt.localization),DS.localizationManager.loadFrameData().then((function(t){mt=t,te()}))):te(),window.globalProvideData=e)},zt.on(_t,(function(t){new Et,bt=new f(vt,mt,t),G.setModel(bt),Gt.initialize(bt),Qt.initialize((function(t){return bt.getString(t)})),DS.frameModel=bt,DS.views=G,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&qt.addClass(document.body,"chromeless"),zt.trigger(At)})),window.globals.useJson){var n=t.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(t)}(e)}((th(Xd={},nd,(function(t){var e,n,i=t.topTabsLeft,r=t.topTabsRight,o=t.sidebarOpts,a=t.bottomBarOpts,l=t.sidebarOpts.timeEnabled,s=t.frame.controlOptions.controls,c=s.closed_captions,u=s.settings,f=G.tree(nd,[{wrapper:["slide",{frame:[{optionPane:[].concat(td(hd()?["hamburger"]:[]),[{playbackControls:["playPause","seek"].concat(td(c?["captions"]:[]),td(u?["settings"]:[]),td(sd.isTablet&&ud?["fullScreenOpen"]:[]))},{navControls:["prev","next","submit"].concat(td(l?["timer"]:[]))}])}]},"panels","visibleOverlay","captionContainer",{sidebar:["tabs"]}]}].concat(td(ud?[]:["disableOverlay"]),["fullScreenClose"]));n=!ad(i)||!ad(r),o.sidebarEnabled||a.bottomBarEnabled||n||!e&&ud&&(!fd||dd)||G.getNamespace(nd).optionPane.setVisibility(!1),rd.on(od.frameModel.LAYOUT_CHANGED,(function(t,e){if(e===nd){var n={playPause:t.seekbar,seek:t.seekbar,next:t.next,prev:t.previous,submit:t.submit,glossaryLink:t.glossary,outlineLink:t.outline.enabled,transcriptLink:t.transcript,resourcesLink:t.resources};rd.trigger(od.frame.LAYOUT_READY,n),G.resetStates(nd),G.updateVisibility(n,nd),G.update(f)}})),DS.pubSub.on(DS.events.navcontrols.CHANGED,(function(t){var e=t.kind,n=t.name,i=t.visible,r=t.enable,o="toggle_window_control_visible"===e||"toggle_window_control"===e;"previous"===n&&(n="prev");var a=G["enable_window_control"===e||"toggle_window_control"===e?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=a&&(o?"toggle_window_control_visible"===e?(a.setVisibility(!a.visible),a.childVisibilityChanged()):a.setEnabled(!a.enabled):"set_window_control_visible"===e?(a.setVisibility(i),a.childVisibilityChanged()):a.setEnabled(r))}));return{all:function(){return G.update(f)},resize:function(){G.update(f),G.getNamespace(nd).panels.children.forEach((function(t){null!=t.update&&(t.update(),t.updateChildren(!0))}))}}})),th(Xd,Bd,(function(t){var e=G.tree(Bd,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","captions"]}]}]},"captionContainer","lightBoxClose"]),n=G.getNamespace(Bd);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0),{all:function(){G.update(e)},resize:function(){n.zoomBounds=null,G.update(e)},pinchZoom:function(){n.lightBoxBottom.update()}}})),th(Xd,Nd,(function(t){var e=G.tree(Nd,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","submit","next","prev","captions"]}]}]},"captionContainer","lightBoxClose"]),n=G.getNamespace(Nd);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0);var i=function(t,n){if(n===Nd){var i={next:t.next,prev:t.previous,submit:t.submit};G.resetStates(Nd),G.updateVisibility(i,Nd),G.update(e)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(t.currControlLayout),{all:function(){return G.update(e)},resize:function(){n.zoomBounds=null,G.update(e)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),th(Xd,Ud,(function(t){G.tree(Ud,[{printWrapper:["printSlide"]}]);var e=G.getNamespace(Ud);return e.slide=e.printSlide,e.wrapper=e.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),th(Xd,$d,(function(t){var e=G.tree($d,["overlay",{messageWindowWrapper:["messageWindowSlide"]},"disableOverlay"]),n=G.getNamespace($d);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return G.update(e)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),Xd),"html5/data/js/frame.js")}();
